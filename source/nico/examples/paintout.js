/* Generated by the Nim Compiler v0.17.0 */
/*   (c) 2017 Andreas Rumpf */

var framePtr = null;
var excHandler = 0;
var lastJSError = null;
if (typeof Int8Array === 'undefined') Int8Array = Array;
if (typeof Int16Array === 'undefined') Int16Array = Array;
if (typeof Int32Array === 'undefined') Int32Array = Array;
if (typeof Uint8Array === 'undefined') Uint8Array = Array;
if (typeof Uint16Array === 'undefined') Uint16Array = Array;
if (typeof Uint32Array === 'undefined') Uint32Array = Array;
if (typeof Float32Array === 'undefined') Float32Array = Array;
if (typeof Float64Array === 'undefined') Float64Array = Array;
var NTI33247 = {size: 0,kind: 24,base: null,node: null,finalizer: null};
var NTI33246 = {size: 0, kind: 17, base: null, node: null, finalizer: null};
var NTI3462 = {size: 0, kind: 17, base: null, node: null, finalizer: null};
var NTI33206 = {size: 0, kind: 18, base: null, node: null, finalizer: null};
var NTI180084 = {size: 0,kind: 24,base: null,node: null,finalizer: null};
var NTI3446 = {size: 0, kind: 17, base: null, node: null, finalizer: null};
var NTI34224 = {size: 0,kind: 24,base: null,node: null,finalizer: null};
var NTI57018 = {size: 0,kind: 24,base: null,node: null,finalizer: null};
var NTI3454 = {size: 0, kind: 17, base: null, node: null, finalizer: null};
var NTI116 = {size: 0,kind: 41,base: null,node: null,finalizer: null};
var NTI33408 = {size: 0, kind: 18, base: null, node: null, finalizer: null};
var NTI3458 = {size: 0, kind: 17, base: null, node: null, finalizer: null};
var NTI3426 = {size: 0, kind: 17, base: null, node: null, finalizer: null};
var NTI3428 = {size: 0, kind: 17, base: null, node: null, finalizer: null};
var NTI25244 = {size: 0,kind: 16,base: null,node: null,finalizer: null};
var NTI124 = {size: 0,kind: 36,base: null,node: null,finalizer: null};
var NTI25237 = {size: 0, kind: 18, base: null, node: null, finalizer: null};
var NTI25240 = {size: 0,kind: 16,base: null,node: null,finalizer: null};
var NTI25202 = {size: 0, kind: 14, base: null, node: null, finalizer: null};
var NTI25231 = {size: 0, kind: 17, base: null, node: null, finalizer: null};
var NTI25230 = {size: 0,kind: 22,base: null,node: null,finalizer: null};
var NTI163227 = {size: 0,kind: 24,base: null,node: null,finalizer: null};
var NTI162040 = {size: 0,kind: 24,base: null,node: null,finalizer: null};
var NTI162026 = {size: 0,kind: 16,base: null,node: null,finalizer: null};
var NTI161051 = {size: 0, kind: 17, base: null, node: null, finalizer: null};
var NTI161024 = {size: 0,kind: 22,base: null,node: null,finalizer: null};
var NTI130 = {size: 0,kind: 1,base: null,node: null,finalizer: null};
var NTI33204 = {size: 0,kind: 20,base: null,node: null,finalizer: null};
var NTI3440 = {size: 0, kind: 17, base: null, node: null, finalizer: null};
var NTI104 = {size: 0,kind: 31,base: null,node: null,finalizer: null};
var NTI13009 = {size: 0, kind: 18, base: null, node: null, finalizer: null};
var NTI3408 = {size: 0, kind: 17, base: null, node: null, finalizer: null};
var NTI138 = {size: 0,kind: 28,base: null,node: null,finalizer: null};
var NTI140 = {size: 0,kind: 29,base: null,node: null,finalizer: null};
var NTI3487 = {size: 0,kind: 22,base: null,node: null,finalizer: null};
var NTI3424 = {size: 0, kind: 17, base: null, node: null, finalizer: null};
var NTI3438 = {size: 0, kind: 17, base: null, node: null, finalizer: null};
var NTI3442 = {size: 0, kind: 17, base: null, node: null, finalizer: null};
var NNI3442 = {kind: 2, len: 0, offset: 0, typ: null, name: null, sons: []};
NTI3442.node = NNI3442;
var NNI3438 = {kind: 2, len: 0, offset: 0, typ: null, name: null, sons: []};
NTI3438.node = NNI3438;
NTI3487.base = NTI3424;
var NNI3424 = {kind: 2, len: 4, offset: 0, typ: null, name: null, sons: [{kind: 1, offset: "parent", len: 0, typ: NTI3487, name: "parent", sons: null}, 
{kind: 1, offset: "name", len: 0, typ: NTI140, name: "name", sons: null}, 
{kind: 1, offset: "message", len: 0, typ: NTI138, name: "msg", sons: null}, 
{kind: 1, offset: "trace", len: 0, typ: NTI138, name: "trace", sons: null}]};
NTI3424.node = NNI3424;
var NNI3408 = {kind: 2, len: 0, offset: 0, typ: null, name: null, sons: []};
NTI3408.node = NNI3408;
NTI3424.base = NTI3408;
NTI3438.base = NTI3424;
NTI3442.base = NTI3438;
var NNI13009 = {kind: 2, len: 2, offset: 0, typ: null, name: null, sons: [{kind: 1, offset: "Field0", len: 0, typ: NTI140, name: "Field0", sons: null}, 
{kind: 1, offset: "Field1", len: 0, typ: NTI104, name: "Field1", sons: null}]};
NTI13009.node = NNI13009;
var NNI3440 = {kind: 2, len: 0, offset: 0, typ: null, name: null, sons: []};
NTI3440.node = NNI3440;
NTI3440.base = NTI3438;
NTI33204.base = NTI104;
var NNI161051 = {kind: 2, len: 0, offset: 0, typ: null, name: null, sons: []};
NTI161051.node = NNI161051;
NTI161051.base = NTI3408;
NTI161024.base = NTI161051;
NTI162040.base = NTI104;
NTI162026.base = NTI162040;
var NNI25202 = {kind: 2, offset: 0, typ: null, name: null, len: 2, sons: {"0": {kind: 1, offset: 0, typ: NTI25202, name: "Keyboard", len: 0, sons: null}, 
"1": {kind: 1, offset: 1, typ: NTI25202, name: "Gamepad", len: 0, sons: null}}};
NTI25202.node = NNI25202;
var NNI25237 = {kind: 2, len: 2, offset: 0, typ: null, name: null, sons: [{kind: 1, offset: "Field0", len: 0, typ: NTI124, name: "Field0", sons: null}, 
{kind: 1, offset: "Field1", len: 0, typ: NTI124, name: "Field1", sons: null}]};
NTI25237.node = NNI25237;
NTI25240.base = NTI25237;
NTI25244.base = NTI104;
var NNI25231 = {kind: 2, len: 9, offset: 0, typ: null, name: null, sons: [{kind: 1, offset: "kind", len: 0, typ: NTI25202, name: "kind", sons: null}, 
{kind: 1, offset: "name", len: 0, typ: NTI138, name: "name", sons: null}, 
{kind: 1, offset: "id", len: 0, typ: NTI104, name: "id", sons: null}, 
{kind: 1, offset: "axes", len: 0, typ: NTI25240, name: "axes", sons: null}, 
{kind: 1, offset: "buttons", len: 0, typ: NTI25244, name: "buttons", sons: null}, 
{kind: 1, offset: "deadzone", len: 0, typ: NTI124, name: "deadzone", sons: null}, 
{kind: 1, offset: "invertX", len: 0, typ: NTI130, name: "invertX", sons: null}, 
{kind: 1, offset: "invertY", len: 0, typ: NTI130, name: "invertY", sons: null}, 
{kind: 1, offset: "useRightStick", len: 0, typ: NTI130, name: "useRightStick", sons: null}]};
NTI25231.node = NNI25231;
NTI25230.base = NTI25231;
NTI163227.base = NTI25230;
var NNI3428 = {kind: 2, len: 0, offset: 0, typ: null, name: null, sons: []};
NTI3428.node = NNI3428;
var NNI3426 = {kind: 2, len: 0, offset: 0, typ: null, name: null, sons: []};
NTI3426.node = NNI3426;
NTI3426.base = NTI3424;
NTI3428.base = NTI3426;
var NNI3458 = {kind: 2, len: 0, offset: 0, typ: null, name: null, sons: []};
NTI3458.node = NNI3458;
NTI3458.base = NTI3424;
var NNI33408 = {kind: 2, len: 3, offset: 0, typ: null, name: null, sons: [{kind: 1, offset: "Field0", len: 0, typ: NTI116, name: "Field0", sons: null}, 
{kind: 1, offset: "Field1", len: 0, typ: NTI116, name: "Field1", sons: null}, 
{kind: 1, offset: "Field2", len: 0, typ: NTI116, name: "Field2", sons: null}]};
NTI33408.node = NNI33408;
var NNI3454 = {kind: 2, len: 0, offset: 0, typ: null, name: null, sons: []};
NTI3454.node = NNI3454;
NTI3454.base = NTI3424;
NTI57018.base = NTI116;
NTI34224.base = NTI116;
var NNI3446 = {kind: 2, len: 0, offset: 0, typ: null, name: null, sons: []};
NTI3446.node = NNI3446;
NTI3446.base = NTI3424;
var NNI33206 = {kind: 2, len: 4, offset: 0, typ: null, name: null, sons: [{kind: 1, offset: "Field0", len: 0, typ: NTI104, name: "Field0", sons: null}, 
{kind: 1, offset: "Field1", len: 0, typ: NTI104, name: "Field1", sons: null}, 
{kind: 1, offset: "Field2", len: 0, typ: NTI104, name: "Field2", sons: null}, 
{kind: 1, offset: "Field3", len: 0, typ: NTI104, name: "Field3", sons: null}]};
NTI33206.node = NNI33206;
NTI180084.base = NTI33206;
var NNI3462 = {kind: 2, len: 0, offset: 0, typ: null, name: null, sons: []};
NTI3462.node = NNI3462;
NTI3462.base = NTI3424;
NTI33247.base = NTI116;
var NNI33246 = {kind: 2, len: 4, offset: 0, typ: null, name: null, sons: [{kind: 1, offset: "data", len: 0, typ: NTI33247, name: "data", sons: null}, 
{kind: 1, offset: "channels", len: 0, typ: NTI104, name: "channels", sons: null}, 
{kind: 1, offset: "w", len: 0, typ: NTI104, name: "w", sons: null}, 
{kind: 1, offset: "h", len: 0, typ: NTI104, name: "h", sons: null}]};
NTI33246.node = NNI33246;
function makeNimstrLit(c_14003) {

    var ln = c_14003.length;
    var result = new Array(ln + 1);
    var i = 0;
    for (; i < ln; ++i) {
      result[i] = c_14003.charCodeAt(i);
    }
    result[i] = 0; // terminating zero
    return result;
    }
function setConstr() {

      var result = {};
      for (var i = 0; i < arguments.length; ++i) {
        var x = arguments[i];
        if (typeof(x) == "object") {
          for (var j = x[0]; j <= x[1]; ++j) {
            result[j] = true;
          }
        } else {
          result[x] = true;
        }
      }
      return result;
    }
var ConstSet1 = setConstr(17, 16, 4, 18, 27, 19, 23, 22, 21);
function nimCopy(dest_19217, src_19218, ti_19219) {

var result_19629 = null;
switch (ti_19219.kind) {
case 21: case 22: case 23: case 5: if (!(isFatPointer_19201(ti_19219))) {
result_19629 = src_19218;
}
else {
result_19629 = [src_19218[0], src_19218[1]];}


break;
case 19:       if (dest_19217 === null || dest_19217 === undefined) {
        dest_19217 = {};
      }
      else {
        for (var key in dest_19217) { delete dest_19217[key]; }
      }
      for (var key in src_19218) { dest_19217[key] = src_19218[key]; }
      result_19629 = dest_19217;
    
break;
case 18: case 17: if (!((ti_19219.base == null))) {
result_19629 = nimCopy(dest_19217, src_19218, ti_19219.base);
}
else {
if ((ti_19219.kind == 17)) {
result_19629 = (dest_19217 === null || dest_19217 === undefined) ? {m_type: ti_19219} : dest_19217;}
else {
result_19629 = (dest_19217 === null || dest_19217 === undefined) ? {} : dest_19217;}
}
nimCopyAux(result_19629, src_19218, ti_19219.node);

break;
case 24: case 4: case 27: case 16:       if (src_19218 === null) {
        result_19629 = null;
      }
      else {
        if (dest_19217 === null || dest_19217 === undefined) {
          dest_19217 = new Array(src_19218.length);
        }
        else {
          dest_19217.length = src_19218.length;
        }
        result_19629 = dest_19217;
        for (var i = 0; i < src_19218.length; ++i) {
          result_19629[i] = nimCopy(result_19629[i], src_19218[i], ti_19219.base);
        }
      }
    
break;
case 28:       if (src_19218 !== null) {
        result_19629 = src_19218.slice(0);
      }
    
break;
default: 
result_19629 = src_19218;
break;
}
return result_19629;
}
function eqStrings(a_16603, b_16604) {

    if (a_16603 == b_16604) return true;
    if ((!a_16603) || (!b_16604)) return false;
    var alen = a_16603.length;
    if (alen != b_16604.length) return false;
    for (var i = 0; i < alen; ++i)
      if (a_16603[i] != b_16604[i]) return false;
    return true;
  }
function arrayConstr(len_19664, value_19665, typ_19666) {

      var result = new Array(len_19664);
      for (var i = 0; i < len_19664; ++i) result[i] = nimCopy(null, value_19665, typ_19666);
      return result;
    }
function cstrToNimstr(c_14203) {

  var ln = c_14203.length;
  var result = new Array(ln);
  var r = 0;
  for (var i = 0; i < ln; ++i) {
    var ch = c_14203.charCodeAt(i);

    if (ch < 128) {
      result[r] = ch;
    }
    else if((ch > 127) && (ch < 2048)) {
      result[r] = (ch >> 6) | 192;
      ++r;
      result[r] = (ch & 63) | 128;
    }
    else {
      result[r] = (ch >> 12) | 224;
      ++r;
      result[r] = ((ch >> 6) & 63) | 128;
      ++r;
      result[r] = (ch & 63) | 128;
    }
    ++r;
  }
  result[r] = 0; // terminating zero
  return result;
  }
function toJSStr(s_14403) {

    var len = s_14403.length-1;
    var asciiPart = new Array(len);
    var fcc = String.fromCharCode;
    var nonAsciiPart = null;
    var nonAsciiOffset = 0;
    for (var i = 0; i < len; ++i) {
      if (nonAsciiPart !== null) {
        var offset = (i - nonAsciiOffset) * 2;
        var code = s_14403[i].toString(16);
        if (code.length == 1) {
          code = "0"+code;
        }
        nonAsciiPart[offset] = "%";
        nonAsciiPart[offset + 1] = code;
      }
      else if (s_14403[i] < 128)
        asciiPart[i] = fcc(s_14403[i]);
      else {
        asciiPart.length = i;
        nonAsciiOffset = i;
        nonAsciiPart = new Array((len - i) * 2);
        --i;
      }
    }
    asciiPart = asciiPart.join("");
    return (nonAsciiPart === null) ?
        asciiPart : asciiPart + decodeURIComponent(nonAsciiPart.join(""));
  }
function raiseException(e_13406, ename_13407) {

e_13406.name = ename_13407;
if ((excHandler == 0)) {
unhandledException(e_13406);
}

e_13406.trace = nimCopy(null, rawWriteStackTrace_13228(), NTI138);
throw e_13406;}
function rawEcho() {

var node_16636 = null;
node_16636 = document.getElementsByTagName('body')[0];if ((node_16636 === null)) {
var e_16650 = null;
e_16650 = {m_type: NTI3428, parent: null, name: null, message: null, trace: null};
e_16650.message = nimCopy(null, makeNimstrLit("<body> element does not exist yet!"), NTI138);
e_16650.parent = null;
raiseException(e_16650, "IOError");
}

    for (var i = 0; i < arguments.length; ++i) {
      var x = toJSStr(arguments[i]);
      node_16636.appendChild(document.createTextNode(x));
    }
    node_16636.appendChild(document.createElement("br"));
    }
function reprEnum(e_20228, typ_20229) {

var result_20230 = null;
var F={procname:"system.reprEnum",prev:framePtr,filename:"lib\\system\\reprjs.nim",line:0};
framePtr = F;
if (!(isUndefined_20232(typ_20229.node.sons[e_20228]))) {
F.line = 38;
result_20230 = nimCopy(null, cstrToNimstr(typ_20229.node.sons[e_20228].name), NTI138);
}
else {
F.line = 40;
result_20230 = nimCopy(null, (cstrToNimstr((e_20228)+"").slice(0,-1)).concat(makeNimstrLit(" (invalid data!)")), NTI138);
}

framePtr = F.prev;
return result_20230;
}
function chckRange(i_19809, a_19810, b_19811) {

var Tmp1;
var result_19812 = 0;
BeforeRet: do {
if (!(a_19810 <= i_19809)) Tmp1 = false; else {Tmp1 = (i_19809 <= b_19811); }if (Tmp1) {
result_19812 = i_19809;
break BeforeRet;
}
else {
raiseRangeError();
}

} while (false); 
return result_19812;
}
function chckIndx(i_19803, a_19804, b_19805) {

var Tmp1;
var result_19806 = 0;
BeforeRet: do {
if (!(a_19804 <= i_19803)) Tmp1 = false; else {Tmp1 = (i_19803 <= b_19805); }if (Tmp1) {
result_19806 = i_19803;
break BeforeRet;
}
else {
raiseIndexError();
}

} while (false); 
return result_19806;
}
function addInt(a_16803, b_16804) {

      var result = a_16803 + b_16804;
      if (result > 2147483647 || result < -2147483648) raiseOverflow();
      return result;
    }
function subInt(a_17003, b_17004) {

      var result = a_17003 - b_17004;
      if (result > 2147483647 || result < -2147483648) raiseOverflow();
      return result;
    }
function mulInt(a_17203, b_17204) {

      var result = a_17203 * b_17204;
      if (result > 2147483647 || result < -2147483648) raiseOverflow();
      return result;
    }
function isObj(obj_19868, subclass_19869) {

var result_19870 = false;
BeforeRet: do {
var x_19871 = obj_19868;
if ((x_19871 == subclass_19869)) {
result_19870 = true;
break BeforeRet;
}

L1: do {
L2: while (true) {
if (!!((x_19871 == subclass_19869))) break L2;
if ((x_19871 == null)) {
result_19870 = false;
break BeforeRet;
}

x_19871 = x_19871.base;
}
} while(false);
result_19870 = true;
break BeforeRet;
} while (false); 
return result_19870;
}
function reraiseException() {

if ((lastJSError == null)) {
var e_13820 = null;
e_13820 = {m_type: NTI3462, parent: null, name: null, message: null, trace: null};
e_13820.message = nimCopy(null, makeNimstrLit("no exception to reraise"), NTI138);
e_13820.parent = null;
raiseException(e_13820, "ReraiseError");
}
else {
if ((excHandler == 0)) {
if (isNimException_12653()) {
unhandledException(lastJSError);
}

}

throw lastJSError;}

}
function divInt(a_17403, b_17404) {

      if (b_17404 == 0) raiseDivByZero();
      if (b_17404 == -1 && a_17403 == 2147483647) raiseOverflow();
      return Math.floor(a_17403 / b_17404);
    }
function nimMin(a_18839, b_18840) {

var Tmp1;
var result_18841 = 0;
BeforeRet: do {
if ((a_18839 <= b_18840)) {
Tmp1 = a_18839;
}
else {
Tmp1 = b_18840;
}

result_18841 = Tmp1;
break BeforeRet;
} while (false); 
return result_18841;
}
function nimMax(a_18844, b_18845) {

var Tmp1;
var result_18846 = 0;
BeforeRet: do {
if ((b_18845 <= a_18844)) {
Tmp1 = a_18844;
}
else {
Tmp1 = b_18845;
}

result_18846 = Tmp1;
break BeforeRet;
} while (false); 
return result_18846;
}
function mnewString(len_14603) {

      var result = new Array(len_14603+1);
      result[0] = 0;
      result[len_14603] = 0;
      return result;
    }
function nimCharToStr(x_12651) {

var result_12652 = null;
result_12652 = nimCopy(null, mnewString(1), NTI138);
result_12652[0] = x_12651;
return result_12652;
}
function negInt(a_18803) {

var result_18804 = 0;
result_18804 = (a_18803 * -1);
return result_18804;
}
var nimvm_5887 = false;
var nim_program_result = 0;
var globalRaiseHook_11005 = [null];
var localRaiseHook_11010 = [null];
var outOfMemHook_11013 = [null];
function isFatPointer_19201(ti_19203) {

var result_19204 = false;
BeforeRet: do {
result_19204 = !((ConstSet1[ti_19203.base.kind] != undefined));
break BeforeRet;
} while (false); 
return result_19204;
}
function nimCopyAux(dest_19222, src_19223, n_19225) {

switch (n_19225.kind) {
case 0: 
break;
case 1:       dest_19222[n_19225.offset] = nimCopy(dest_19222[n_19225.offset], src_19223[n_19225.offset], n_19225.typ);
    
break;
case 2: L1: do {
var i_19615 = 0;
var colontmp__19617 = 0;
colontmp__19617 = (n_19225.len - 1);
var res_19620 = 0;
L2: do {
L3: while (true) {
if (!(res_19620 <= colontmp__19617)) break L3;
i_19615 = res_19620;
nimCopyAux(dest_19222, src_19223, n_19225.sons[i_19615]);
res_19620 += 1;
}
} while(false);
} while(false);

break;
case 3:       dest_19222[n_19225.offset] = nimCopy(dest_19222[n_19225.offset], src_19223[n_19225.offset], n_19225.typ);
      for (var i = 0; i < n_19225.sons.length; ++i) {
        nimCopyAux(dest_19222, src_19223, n_19225.sons[i][1]);
      }
    
break;
}
}
function add_11029(x_11032, x_11032_Idx, y_11033) {

        var len = x_11032[0].length-1;
        for (var i = 0; i < y_11033.length; ++i) {
          x_11032[0][len] = y_11033.charCodeAt(i);
          ++len;
        }
        x_11032[0][len] = 0
      }
function auxWriteStackTrace_13004(f_13006) {

var Tmp3;
var result_13007 = [null];
var it_13015 = f_13006;
var i_13016 = 0;
var total_13017 = 0;
var tempFrames_13021 = arrayConstr(64, {Field0: null, Field1: 0}, NTI13009);
L1: do {
L2: while (true) {
if (!!((it_13015 == null))) Tmp3 = false; else {Tmp3 = (i_13016 <= 63); }if (!Tmp3) break L2;
tempFrames_13021[i_13016].Field0 = it_13015.procname;
tempFrames_13021[i_13016].Field1 = it_13015.line;
i_13016 += 1;
total_13017 += 1;
it_13015 = it_13015.prev;
}
} while(false);
L4: do {
L5: while (true) {
if (!!((it_13015 == null))) break L5;
total_13017 += 1;
it_13015 = it_13015.prev;
}
} while(false);
result_13007[0] = nimCopy(null, makeNimstrLit(""), NTI138);
if (!((total_13017 == i_13016))) {
if (result_13007[0] != null) { result_13007[0] = (result_13007[0].slice(0, -1)).concat(makeNimstrLit("(")); } else { result_13007[0] = makeNimstrLit("(");};
if (result_13007[0] != null) { result_13007[0] = (result_13007[0].slice(0, -1)).concat(cstrToNimstr(((total_13017 - i_13016))+"")); } else { result_13007[0] = cstrToNimstr(((total_13017 - i_13016))+"");};
if (result_13007[0] != null) { result_13007[0] = (result_13007[0].slice(0, -1)).concat(makeNimstrLit(" calls omitted) ...\x0A")); } else { result_13007[0] = makeNimstrLit(" calls omitted) ...\x0A");};
}

L6: do {
var j_13215 = 0;
var colontmp__13221 = 0;
colontmp__13221 = (i_13016 - 1);
var res_13224 = colontmp__13221;
L7: do {
L8: while (true) {
if (!(0 <= res_13224)) break L8;
j_13215 = res_13224;
add_11029(result_13007, 0, tempFrames_13021[j_13215].Field0);
if ((0 < tempFrames_13021[j_13215].Field1)) {
if (result_13007[0] != null) { result_13007[0] = (result_13007[0].slice(0, -1)).concat(makeNimstrLit(", line: ")); } else { result_13007[0] = makeNimstrLit(", line: ");};
if (result_13007[0] != null) { result_13007[0] = (result_13007[0].slice(0, -1)).concat(cstrToNimstr((tempFrames_13021[j_13215].Field1)+"")); } else { result_13007[0] = cstrToNimstr((tempFrames_13021[j_13215].Field1)+"");};
}

if (result_13007[0] != null) { result_13007[0] = (result_13007[0].slice(0, -1)).concat(makeNimstrLit("\x0A")); } else { result_13007[0] = makeNimstrLit("\x0A");};
res_13224 -= 1;
}
} while(false);
} while(false);
return result_13007[0];
}
function rawWriteStackTrace_13228() {

var result_13230 = null;
if (!((framePtr == null))) {
result_13230 = nimCopy(null, (makeNimstrLit("Traceback (most recent call last)\x0A").slice(0,-1)).concat(auxWriteStackTrace_13004(framePtr)), NTI138);
}
else {
result_13230 = nimCopy(null, makeNimstrLit("No stack traceback available\x0A"), NTI138);
}

return result_13230;
}
function unhandledException(e_13253) {

var Tmp1;
var buf_13254 = /**/[makeNimstrLit("")];
if (!!(eqStrings(e_13253.message, null))) Tmp1 = false; else {Tmp1 = !((e_13253.message[0] == 0)); }if (Tmp1) {
if (buf_13254[0] != null) { buf_13254[0] = (buf_13254[0].slice(0, -1)).concat(makeNimstrLit("Error: unhandled exception: ")); } else { buf_13254[0] = makeNimstrLit("Error: unhandled exception: ");};
if (buf_13254[0] != null) { buf_13254[0] = (buf_13254[0].slice(0, -1)).concat(e_13253.message); } else { buf_13254[0] = e_13253.message;};
}
else {
if (buf_13254[0] != null) { buf_13254[0] = (buf_13254[0].slice(0, -1)).concat(makeNimstrLit("Error: unhandled exception")); } else { buf_13254[0] = makeNimstrLit("Error: unhandled exception");};
}

if (buf_13254[0] != null) { buf_13254[0] = (buf_13254[0].slice(0, -1)).concat(makeNimstrLit(" [")); } else { buf_13254[0] = makeNimstrLit(" [");};
add_11029(buf_13254, 0, e_13253.name);
if (buf_13254[0] != null) { buf_13254[0] = (buf_13254[0].slice(0, -1)).concat(makeNimstrLit("]\x0A")); } else { buf_13254[0] = makeNimstrLit("]\x0A");};
if (buf_13254[0] != null) { buf_13254[0] = (buf_13254[0].slice(0, -1)).concat(rawWriteStackTrace_13228()); } else { buf_13254[0] = rawWriteStackTrace_13228();};
var cbuf_13401 = toJSStr(buf_13254[0]);
framePtr = null;
  if (typeof(Error) !== "undefined") {
    throw new Error(cbuf_13401);
  }
  else {
    throw cbuf_13401;
  }
  }
function raiseOverflow() {

var e_13840 = null;
e_13840 = {m_type: NTI3442, parent: null, name: null, message: null, trace: null};
e_13840.message = nimCopy(null, makeNimstrLit("over- or underflow"), NTI138);
e_13840.parent = null;
raiseException(e_13840, "OverflowError");
}
function raiseDivByZero() {

var e_13858 = null;
e_13858 = {m_type: NTI3440, parent: null, name: null, message: null, trace: null};
e_13858.message = nimCopy(null, makeNimstrLit("division by zero"), NTI138);
e_13858.parent = null;
raiseException(e_13858, "DivByZeroError");
}
var initialized_33310 = [false];
var running_33312 = [false];
var loading_33314 = [0];
var swCanvas_33316 = [{data: null, channels: 0, w: 0, h: 0}];
var targetScreenWidth_33319 = /**/[128];
var targetScreenHeight_33321 = /**/[128];
var fixedScreenSize_33322 = /**/[true];
var integerScreenScale_33323 = /**/[false];
var screenWidth_33325 = /**/[128];
var screenHeight_33327 = /**/[128];
var screenPaddingX_33328 = /**/[0];
var screenPaddingY_33329 = /**/[0];
var keymap_33334 = [[null, null, null, null, null, null, null, null, null, null, null, null, null, null]];
var controllerAddedFunc_33339 = [null];
var controllerRemovedFunc_33344 = [null];
var controllers_33347 = [null];
var focused_33349 = /**/[true];
var recordSeconds_33351 = /**/[30];
var fullSpeedGif_33352 = /**/[true];
var currentTilemap_33353 = [{data: null, w: 0, h: 0}];
var spriteFlags_33358 = [new Uint8Array(128)];
var mixerChannels_33360 = /**/[0];
var frameRate_33362 = /**/[60];
function slash__21007(x_21009, y_21010) {

var result_21011 = 0.0;
var F={procname:"system./",prev:framePtr,filename:"lib\\system.nim",line:0};
framePtr = F;
F.line = 3325;
result_21011 = (x_21009 / y_21010);
framePtr = F.prev;
return result_21011;
}
var timeStep_33363 = /**/[slash__21007(1, frameRate_33362[0])];
var frameMult_33364 = /**/[1];
var basePath_33365 = [null];
var assetPath_33367 = [null];
var writePath_33369 = [null];
var screenScale_33371 = /**/[4.0000000000000000e+000];
var spriteSheets_33375 = [[{data: null, channels: 0, w: 0, h: 0}, {data: null, channels: 0, w: 0, h: 0}, {data: null, channels: 0, w: 0, h: 0}, {data: null, channels: 0, w: 0, h: 0}, {data: null, channels: 0, w: 0, h: 0}, {data: null, channels: 0, w: 0, h: 0}, {data: null, channels: 0, w: 0, h: 0}, {data: null, channels: 0, w: 0, h: 0}, {data: null, channels: 0, w: 0, h: 0}, {data: null, channels: 0, w: 0, h: 0}, {data: null, channels: 0, w: 0, h: 0}, {data: null, channels: 0, w: 0, h: 0}, {data: null, channels: 0, w: 0, h: 0}, {data: null, channels: 0, w: 0, h: 0}, {data: null, channels: 0, w: 0, h: 0}, {data: null, channels: 0, w: 0, h: 0}]];
var spriteSheet_33378 = [null];
var initFunc_33382 = [null];
var updateFunc_33386 = [null];
var drawFunc_33390 = [null];
var textFunc_33394 = [null];
var resizeFunc_33397 = [null];
var fonts_33402 = [[null, null, null, null]];
var currentFontId_33404 = [0];
var frame_33406 = /**/[0];
var colors_33418 = [[{Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}, {Field0: 0, Field1: 0, Field2: 0}]];
var cameraX_33420 = /**/[0];
var cameraY_33422 = /**/[0];
var paletteSize_33425 = /**/[16];
var paletteMapDraw_33430 = [arrayConstr(256, 0, NTI33204)];
var paletteMapDisplay_33435 = [arrayConstr(256, 0, NTI33204)];
var paletteTransparent_33440 = [arrayConstr(256, false, NTI130)];
var Tmp5;
L2: do {
var i_33451 = [0];
var colontmp__33454 = 0;
colontmp__33454 = paletteSize_33425[0];
var i_33457 = 0;
L3: do {
L4: while (true) {
if (!(i_33457 < colontmp__33454)) break L4;
i_33451[0] = i_33457;
paletteMapDraw_33430[0][i_33451[0]] = i_33451[0];
paletteMapDisplay_33435[0][i_33451[0]] = i_33451[0];
if ((i_33451[0] == 0)) {
Tmp5 = true;
}
else {
Tmp5 = false;
}

paletteTransparent_33440[0][i_33451[0]] = Tmp5;
i_33457 += 1;
}
} while(false);
} while(false);
var currentColor_33459 = /**/[0];
var keepRunning_33461 = /**/[true];
var muteAudio_33462 = /**/[false];
var currentMusicId_33463 = /**/[-1];
var clipMinX_33465 = [0];
var clipMaxX_33466 = [0];
var clipMinY_33467 = [0];
var clipMaxY_33468 = [0];
var clippingRect_33473 = [{Field0: 0, Field1: 0, Field2: 0, Field3: 0}];
var mouseDetected_33475 = [false];
var mouseX_33477 = [0];
var mouseY_33478 = [0];
var mouseButtonsDown_33483 = [[false, false, false]];
var mouseButtons_33487 = [new Int32Array(3)];
var mouseWheelState_33489 = [0];
var objectID_58232 = /**/[0];
var ctx_162001 = [null];
var swCanvas32_162003 = [null];
var canvas_162005 = [null];
var interval_162008 = [null];
var audioContext_162010 = [null];
var sfxData_162014 = [arrayConstr(64, null, NTI161024)];
var musicData_162018 = [arrayConstr(64, null, NTI161024)];
var currentMusic_162020 = /**/[null];
var sfxGain_162022 = [null];
var musicGain_162023 = [null];
nimCopy(keymap_33334[0], [[38, 87], [40, 83], [37, 65], [39, 68], [90, 89], [88], [16], [67], [70], [71], [86], [66], [13], [27, 8]], NTI162026);
function mute() {

var F={procname:"js.mute",prev:framePtr,filename:"C:\\Users\\Joeyl\\OneDrive\\Documents\\GitHub\\strangers_gamejam\\source\\nico\\nico\\backends\\js.nim",line:0};
framePtr = F;
if (!((musicGain_162023[0].gain.value == 0.0))) {
F.line = 297;
musicGain_162023[0].gain.value = 0.0;
F.line = 298;
sfxGain_162022[0].gain.value = 0.0;
}
else {
F.line = 300;
musicGain_162023[0].gain.value = 1.0000000000000000e+000;
F.line = 301;
sfxGain_162022[0].gain.value = 1.0000000000000000e+000;
}

framePtr = F.prev;
}
var state_168605 = /**/[{a0: 1773455756, a1: 4275166512}];
function getTime_171041() {

var result_173013 = null;
var F={procname:"times.getTime",prev:framePtr,filename:"lib\\pure\\times.nim",line:0};
framePtr = F;
BeforeRet: do {
F.line = 1294;
result_173013 = new Date();
break BeforeRet;
} while (false); 
framePtr = F.prev;
return result_173013;
}
var startMilsecs_173112 = /**/[getTime_171041()];
clipMaxX_33466[0] = (screenWidth_33325[0] - 1);
clipMaxY_33468[0] = (screenHeight_33327[0] - 1);
var frame_183001 = /**/[0];
var t_183002 = /**/[8.0000000000000000e+000];
var px_183003 = /**/[6.4000000000000000e+001];
var py_183004 = /**/[1.2000000000000000e+002];
var pxv_183005 = /**/[0.0];
var bx_183006 = /**/[6.4000000000000000e+001];
var by_183007 = /**/[6.4000000000000000e+001];
var bxv_183008 = /**/[0.0];
var byv_183009 = /**/[0.0];
var text_183010 = [null];
var splat_183012 = /**/[false];
var clear_183013 = /**/[false];
function newSeq_163222(len_163226) {

var result_163228 = null;
var F={procname:"newSeq.newSeq",prev:framePtr,filename:"lib\\system.nim",line:0};
framePtr = F;
F.line = 696;
result_163228 = new Array(len_163226); for (var i=0;i<len_163226;++i) {result_163228[i]=null;}framePtr = F.prev;
return result_163228;
}
function new_25277() {

var result_25282 = null;
var F={procname:"new.new",prev:framePtr,filename:"lib\\system.nim",line:0};
framePtr = F;
BeforeRet: do {
F.line = 209;
var r_25401 = null;
F.line = 212;
r_25401 = {kind: 0, name: null, id: 0, axes: [{Field0: 0.0, Field1: 0.0}, {Field0: 0.0, Field1: 0.0}, {Field0: 0.0, Field1: 0.0}, {Field0: 0.0, Field1: 0.0}, {Field0: 0.0, Field1: 0.0}, {Field0: 0.0, Field1: 0.0}], buttons: new Int32Array(14), deadzone: 0.0, invertX: false, invertY: false, useRightStick: false};
F.line = 213;
result_25282 = r_25401;
break BeforeRet;
} while (false); 
framePtr = F.prev;
return result_25282;
}
function isUndefined_20232(x_20236) {

var result_20237 = false;
var F={procname:"isUndefined.isUndefined",prev:framePtr,filename:"lib\\system\\reprjs.nim",line:0};
framePtr = F;
F.line = 34;
result_20237 = x_20236 === undefined;framePtr = F.prev;
return result_20237;
}
function newNicoController_25271(id_25273) {

var result_25274 = null;
var F={procname:"controller.newNicoController",prev:framePtr,filename:"C:\\Users\\Joeyl\\OneDrive\\Documents\\GitHub\\strangers_gamejam\\source\\nico\\nico\\controller.nim",line:0};
framePtr = F;
F.line = 46;
result_25274 = new_25277();
F.line = 47;
result_25274.id = (id_25273|0);
if ((-1 < id_25273)) {
F.line = 54;
result_25274.kind = 1;
F.line = 55;
result_25274.deadzone = 5.0000000000000000e-001;
}
else {
F.line = 57;
result_25274.kind = 0;
F.line = 58;
result_25274.name = nimCopy(null, makeNimstrLit("KEYBOARD"), NTI138);
}

F.line = 59;
rawEcho(makeNimstrLit("added game controller: "), cstrToNimstr(((id_25273|0))+""), makeNimstrLit(": "), reprEnum(result_25274.kind, NTI25202), makeNimstrLit(": "), result_25274.name);
framePtr = F.prev;
return result_25274;
}
function init_163205(org_163207, app_163208) {

var F={procname:"js.init",prev:framePtr,filename:"C:\\Users\\Joeyl\\OneDrive\\Documents\\GitHub\\strangers_gamejam\\source\\nico\\nico\\backends\\js.nim",line:0};
framePtr = F;
F.line = 234;
basePath_33365[0] = nimCopy(null, makeNimstrLit(""), NTI138);
F.line = 235;
assetPath_33367[0] = nimCopy(null, makeNimstrLit("assets/"), NTI138);
F.line = 236;
writePath_33369[0] = nimCopy(null, makeNimstrLit(""), NTI138);
F.line = 238;
controllers_33347[0] = nimCopy(null, newSeq_163222(0), NTI163227);
F.line = 239;
if (controllers_33347[0] != null) { controllers_33347[0].push(newNicoController_25271(-1)); } else { controllers_33347[0] = [newNicoController_25271(-1)]; };
framePtr = F.prev;
}
function raiseRangeError() {

var e_13876 = null;
e_13876 = {m_type: NTI3458, parent: null, name: null, message: null, trace: null};
e_13876.message = nimCopy(null, makeNimstrLit("value out of range"), NTI138);
e_13876.parent = null;
raiseException(e_13876, "RangeError");
}
function RGB_34828(r_34830, g_34831, b_34832) {

var result_34833 = {Field0: 0, Field1: 0, Field2: 0};
var F={procname:"common.RGB",prev:framePtr,filename:"C:\\Users\\Joeyl\\OneDrive\\Documents\\GitHub\\strangers_gamejam\\source\\nico\\nico\\backends\\common.nim",line:0};
framePtr = F;
BeforeRet: do {
F.line = 217;
nimCopy(result_34833, {Field0: chckRange(r_34830, 0, 255), Field1: chckRange(g_34831, 0, 255), Field2: chckRange(b_34832, 0, 255)}, NTI33408);
break BeforeRet;
} while (false); 
framePtr = F.prev;
return result_34833;
}
function loadPalettePico8_177246() {

var F={procname:"nico.loadPalettePico8",prev:framePtr,filename:"C:\\Users\\Joeyl\\OneDrive\\Documents\\GitHub\\strangers_gamejam\\source\\nico\\nico.nim",line:0};
framePtr = F;
F.line = 235;
nimCopy(colors_33418[0][0], RGB_34828(0, 0, 0), NTI33408);
F.line = 236;
nimCopy(colors_33418[0][1], RGB_34828(29, 43, 83), NTI33408);
F.line = 237;
nimCopy(colors_33418[0][2], RGB_34828(126, 37, 83), NTI33408);
F.line = 238;
nimCopy(colors_33418[0][3], RGB_34828(0, 135, 81), NTI33408);
F.line = 239;
nimCopy(colors_33418[0][4], RGB_34828(171, 82, 54), NTI33408);
F.line = 240;
nimCopy(colors_33418[0][5], RGB_34828(95, 87, 79), NTI33408);
F.line = 241;
nimCopy(colors_33418[0][6], RGB_34828(194, 195, 199), NTI33408);
F.line = 242;
nimCopy(colors_33418[0][7], RGB_34828(255, 241, 232), NTI33408);
F.line = 243;
nimCopy(colors_33418[0][8], RGB_34828(255, 0, 77), NTI33408);
F.line = 244;
nimCopy(colors_33418[0][9], RGB_34828(255, 163, 0), NTI33408);
F.line = 245;
nimCopy(colors_33418[0][10], RGB_34828(255, 240, 36), NTI33408);
F.line = 246;
nimCopy(colors_33418[0][11], RGB_34828(0, 231, 86), NTI33408);
F.line = 247;
nimCopy(colors_33418[0][12], RGB_34828(41, 173, 255), NTI33408);
F.line = 248;
nimCopy(colors_33418[0][13], RGB_34828(131, 118, 156), NTI33408);
F.line = 249;
nimCopy(colors_33418[0][14], RGB_34828(255, 119, 168), NTI33408);
F.line = 250;
nimCopy(colors_33418[0][15], RGB_34828(255, 204, 170), NTI33408);
framePtr = F.prev;
}
function raiseIndexError() {

var e_13894 = null;
e_13894 = {m_type: NTI3454, parent: null, name: null, message: null, trace: null};
e_13894.message = nimCopy(null, makeNimstrLit("index out of bounds"), NTI138);
e_13894.parent = null;
raiseException(e_13894, "IndexError");
}
function setSpritesheet_181094(bank_181097) {

var F={procname:"nico.setSpritesheet",prev:framePtr,filename:"C:\\Users\\Joeyl\\OneDrive\\Documents\\GitHub\\strangers_gamejam\\source\\nico\\nico.nim",line:0};
framePtr = F;
F.line = 1156;
spriteSheet_33378[0] = spriteSheets_33375[0][chckIndx(bank_181097, 0, spriteSheets_33375[0].length)-0];
framePtr = F.prev;
}
function rotl_168802(x_168804, k_168805) {

var result_168806 = 0;
var F={procname:"random.rotl",prev:framePtr,filename:"lib\\pure\\random.nim",line:0};
framePtr = F;
F.line = 44;
result_168806 = ((x_168804 << k_168805) | ((x_168804 >>> 0) >>> ((64 - k_168805) >>> 0)));
framePtr = F.prev;
return result_168806;
}
function next_168841(s_168844) {

var result_168845 = 0;
var F={procname:"random.next",prev:framePtr,filename:"lib\\pure\\random.nim",line:0};
framePtr = F;
F.line = 47;
var s0_168846 = s_168844.a0;
F.line = 48;
var s1_168847 = s_168844.a1;
F.line = 49;
result_168845 = ((s0_168846 + s1_168847) >>> 0);
F.line = 50;
s1_168847 = (s1_168847 ^ s0_168846);
F.line = 51;
s_168844.a0 = ((rotl_168802(s0_168846, 55) ^ s1_168847) ^ (s1_168847 << 14));
F.line = 52;
s_168844.a1 = rotl_168802(s1_168847, 36);
framePtr = F.prev;
return result_168845;
}
function randomize_169427(seed_169429) {

var F={procname:"random.randomize",prev:framePtr,filename:"lib\\pure\\random.nim",line:0};
framePtr = F;
F.line = 106;
state_168605[0].a0 = chckRange(((seed_169429 >>> 0) >>> 16), 0, 4294967295);
F.line = 107;
state_168605[0].a1 = (seed_169429 & 65535);
F.line = 108;
next_168841(state_168605[0]);
framePtr = F.prev;
}
function randomize_174001() {

var F={procname:"random.randomize",prev:framePtr,filename:"lib\\pure\\random.nim",line:0};
framePtr = F;
F.line = 124;
randomize_169427(getTime_171041().getTime());
framePtr = F.prev;
}
function setFont_177203(fontId_177205) {

var F={procname:"nico.setFont",prev:framePtr,filename:"C:\\Users\\Joeyl\\OneDrive\\Documents\\GitHub\\strangers_gamejam\\source\\nico\\nico.nim",line:0};
framePtr = F;
BeforeRet: do {
if ((4 < fontId_177205)) {
F.line = 1298;
break BeforeRet;
}

F.line = 1299;
currentFontId_33404[0] = fontId_177205;
} while (false); 
framePtr = F.prev;
}
function getContext2D_57513(c_57515) {

var result_57516 = null;
var F={procname:"html5_canvas.getContext2D",prev:framePtr,filename:"C:\\Users\\Joeyl\\.nimble\\pkgs\\html5_canvas-1.3\\html5_canvas.nim",line:0};
framePtr = F;
F.line = 24;
result_57516=c_57515.getContext('2d');framePtr = F.prev;
return result_57516;
}
function loadSurface_162743(filename_162745, callback_162749) {

function colonanonymous__162760(event_162762) {

var F={procname:"loadSurface.:anonymous",prev:framePtr,filename:"C:\\Users\\Joeyl\\OneDrive\\Documents\\GitHub\\strangers_gamejam\\source\\nico\\nico\\backends\\js.nim",line:0};
framePtr = F;
F.line = 153;
loading_33314[0] = subInt(loading_33314[0], 1);
F.line = 154;
var target_162772 = event_162762.target;
F.line = 155;
console.log("image loaded: ", target_162772.src);
F.line = 156;
var canvas_162781 = document.createElement("canvas");
F.line = 157;
var ctx_162782 = getContext2D_57513(canvas_162781);
F.line = 158;
var w_162783 = target_162772.width;
F.line = 159;
var h_162784 = target_162772.height;
F.line = 160;
canvas_162781.width = w_162783;
F.line = 161;
canvas_162781.height = h_162784;
F.line = 162;
ctx_162782.drawImage(target_162772, 0.0, 0.0);
F.line = 163;
var imgData_162785 = ctx_162782.getImageData(0.0, 0.0, w_162783, h_162784);
F.line = 164;
var surface_162786 = {data: null, channels: 0, w: 0, h: 0};
F.line = 165;
surface_162786.w = w_162783;
F.line = 166;
surface_162786.h = h_162784;
F.line = 167;
surface_162786.channels = 4;
F.line = 168;
surface_162786.data = nimCopy(null, imgData_162785.data, NTI57018);
F.line = 169;
callback_162749(surface_162786);
framePtr = F.prev;
}
var F={procname:"js.loadSurface",prev:framePtr,filename:"C:\\Users\\Joeyl\\OneDrive\\Documents\\GitHub\\strangers_gamejam\\source\\nico\\nico\\backends\\js.nim",line:0};
framePtr = F;
F.line = 150;
loading_33314[0] = addInt(loading_33314[0], 1);
F.line = 151;
var img_162759 = document.createElement("img");
F.line = 152;
img_162759.addEventListener("load", colonanonymous__162760, false);
F.line = 170;
img_162759.src = toJSStr(filename_162745);
framePtr = F.prev;
}
function new_179823() {

var result_179828 = null;
var F={procname:"new.new",prev:framePtr,filename:"lib\\system.nim",line:0};
framePtr = F;
BeforeRet: do {
F.line = 209;
var r_180001 = null;
F.line = 212;
r_180001 = {rects: null, data: null, w: 0, h: 0};
F.line = 213;
result_179828 = r_180001;
break BeforeRet;
} while (false); 
framePtr = F.prev;
return result_179828;
}
function newSeq_34219(len_34223) {

var result_34225 = null;
var F={procname:"newSeq.newSeq",prev:framePtr,filename:"lib\\system.nim",line:0};
framePtr = F;
F.line = 696;
result_34225 = new Array(len_34223); for (var i=0;i<len_34223;++i) {result_34225[i]=0;}framePtr = F.prev;
return result_34225;
}
function sysFatal_21821(message_21827) {

var F={procname:"sysFatal.sysFatal",prev:framePtr,filename:"lib\\system.nim",line:0};
framePtr = F;
F.line = 2653;
var e_21829 = null;
F.line = 2654;
e_21829 = {m_type: NTI3446, parent: null, name: null, message: null, trace: null};
F.line = 2655;
e_21829.message = nimCopy(null, message_21827, NTI138);
F.line = 2656;
raiseException(e_21829, "AssertionError");
framePtr = F.prev;
}
function raiseAssert_21816(msg_21818) {

var F={procname:"system.raiseAssert",prev:framePtr,filename:"lib\\system.nim",line:0};
framePtr = F;
F.line = 3546;
sysFatal_21821(msg_21818);
framePtr = F.prev;
}
function failedAssertImpl_21839(msg_21841) {

var F={procname:"system.failedAssertImpl",prev:framePtr,filename:"lib\\system.nim",line:0};
framePtr = F;
F.line = 3554;
raiseAssert_21816(msg_21841);
framePtr = F.prev;
}
function newSeq_180079(len_180083) {

var result_180085 = null;
var F={procname:"newSeq.newSeq",prev:framePtr,filename:"lib\\system.nim",line:0};
framePtr = F;
F.line = 696;
result_180085 = new Array(len_180083); for (var i=0;i<len_180083;++i) {result_180085[i]={Field0: 0, Field1: 0, Field2: 0, Field3: 0};}framePtr = F.prev;
return result_180085;
}
function createFontFromSurface_179816(surface_179818, chars_179819) {

var result_179820 = null;
var F={procname:"nico.createFontFromSurface",prev:framePtr,filename:"C:\\Users\\Joeyl\\OneDrive\\Documents\\GitHub\\strangers_gamejam\\source\\nico\\nico.nim",line:0};
framePtr = F;
BeforeRet: do {
F.line = 976;
var font_180010 = new_179823();
F.line = 978;
font_180010.w = surface_179818.w;
F.line = 979;
font_180010.h = surface_179818.h;
F.line = 980;
font_180010.data = nimCopy(null, newSeq_34219(chckRange(mulInt(font_180010.w, font_180010.h), 0, 2147483647)), NTI34224);
L1: do {
F.line = 982;
var i_180046 = 0;
F.line = 3771;
var colontmp__180158 = 0;
F.line = 982;
colontmp__180158 = mulInt(font_180010.w, font_180010.h);
F.line = 3772;
var i_180161 = 0;
L2: do {
F.line = 3773;
L3: while (true) {
if (!(i_180161 < colontmp__180158)) break L3;
F.line = 3774;
i_180046 = i_180161;
if ((surface_179818.data[chckIndx(addInt(mulInt(i_180046, 4), 3), 0, surface_179818.data.length)-0] == 0)) {
F.line = 984;
font_180010.data[chckIndx(i_180046, 0, font_180010.data.length)-0] = 0;
}
else {
if ((0 < surface_179818.data[chckIndx(addInt(mulInt(i_180046, 4), 0), 0, surface_179818.data.length)-0])) {
F.line = 986;
font_180010.data[chckIndx(i_180046, 0, font_180010.data.length)-0] = 2;
}
else {
F.line = 988;
font_180010.data[chckIndx(i_180046, 0, font_180010.data.length)-0] = 1;
}
}
F.line = 3775;
i_180161 = addInt(i_180161, 1);
}
} while(false);
} while(false);
F.line = 990;
var highestChar_180063 = 0;
L4: do {
F.line = 991;
var c_180065 = 0;
F.line = 3598;
var i_180167 = 0;
F.line = 3599;
var L_180169 = (chars_179819 != null ? chars_179819.length-1 : 0);
L5: do {
F.line = 3600;
L6: while (true) {
if (!(i_180167 < L_180169)) break L6;
F.line = 3601;
c_180065 = chars_179819[chckIndx(i_180167, 0, chars_179819.length)-0];
if ((highestChar_180063 < c_180065)) {
F.line = 993;
highestChar_180063 = c_180065;
}

F.line = 3602;
i_180167 = addInt(i_180167, 1);
if (!(((chars_179819 != null ? chars_179819.length-1 : 0) == L_180169))) {
F.line = 3603;
failedAssertImpl_21839(makeNimstrLit("len(a) == L string modified while iterating over it"));
}

}
} while(false);
} while(false);
F.line = 994;
font_180010.rects = nimCopy(null, newSeq_180079(chckRange(addInt((highestChar_180063|0), 1), 0, 2147483647)), NTI180084);
F.line = 996;
var newChar_180103 = false;
F.line = 997;
var blankColor_180104 = font_180010.data[0];
F.line = 998;
var currentRect_180106 = {Field0: 0, Field1: 0, Field2: 0, Field3: 0};
F.line = 999;
var i_180107 = 0;
L7: do {
F.line = 1000;
var x_180117 = 0;
F.line = 3771;
var colontmp__180180 = 0;
F.line = 1000;
colontmp__180180 = font_180010.w;
F.line = 3772;
var i_180183 = 0;
L8: do {
F.line = 3773;
L9: while (true) {
if (!(i_180183 < colontmp__180180)) break L9;
F.line = 3774;
x_180117 = i_180183;
F.line = 1001;
var color_180118 = font_180010.data[chckIndx(x_180117, 0, font_180010.data.length)-0];
if ((color_180118 == blankColor_180104)) {
F.line = 1003;
currentRect_180106.Field2 = subInt(x_180117, currentRect_180106.Field0);
if (!((currentRect_180106.Field2 == 0))) {
F.line = 1006;
currentRect_180106.Field3 = subInt(font_180010.h, 1);
L10: do {
F.line = 1007;
var y_180136 = 0;
F.line = 3771;
var colontmp__180174 = 0;
F.line = 1007;
colontmp__180174 = font_180010.h;
F.line = 3772;
var i_180177 = 0;
L11: do {
F.line = 3773;
L12: while (true) {
if (!(i_180177 < colontmp__180174)) break L12;
F.line = 3774;
y_180136 = i_180177;
F.line = 1008;
var color_180137 = font_180010.data[chckIndx(addInt(mulInt(y_180136, font_180010.w), x_180117), 0, font_180010.data.length)-0];
if ((color_180137 == blankColor_180104)) {
F.line = 1010;
currentRect_180106.Field3 = subInt(y_180136, 2);
}

F.line = 3775;
i_180177 = addInt(i_180177, 1);
}
} while(false);
} while(false);
F.line = 1011;
var charId_180146 = (chars_179819[chckIndx(i_180107, 0, chars_179819.length)-0]|0);
F.line = 1012;
nimCopy(font_180010.rects[chckIndx(charId_180146, 0, font_180010.rects.length)-0], currentRect_180106, NTI33206);
F.line = 1013;
i_180107 = addInt(i_180107, 1);
}

F.line = 1014;
newChar_180103 = true;
F.line = 1015;
currentRect_180106.Field0 = addInt(x_180117, 1);
}

F.line = 3775;
i_180183 = addInt(i_180183, 1);
}
} while(false);
} while(false);
F.line = 1017;
result_179820 = font_180010;
break BeforeRet;
} while (false); 
framePtr = F.prev;
return result_179820;
}
function loadFont_180185(filename_180187, chars_180188) {

function colonanonymous__180189(surface_180191) {

var F={procname:"loadFont.:anonymous",prev:framePtr,filename:"C:\\Users\\Joeyl\\OneDrive\\Documents\\GitHub\\strangers_gamejam\\source\\nico\\nico.nim",line:0};
framePtr = F;
F.line = 1021;
fonts_33402[0][chckIndx(currentFontId_33404[0], 0, fonts_33402[0].length)-0] = createFontFromSurface_179816(surface_180191, chars_180188);
F.line = 161;
console.log("font created from ", toJSStr(filename_180187));
framePtr = F.prev;
}
var F={procname:"nico.loadFont",prev:framePtr,filename:"C:\\Users\\Joeyl\\OneDrive\\Documents\\GitHub\\strangers_gamejam\\source\\nico\\nico.nim",line:0};
framePtr = F;
F.line = 1020;
loadSurface_162743((assetPath_33367[0].slice(0,-1)).concat(filename_180187), colonanonymous__180189);
framePtr = F.prev;
}
function isNimException_12653() {

return lastJSError.m_type;}
function loadConfig_163203() {

var F={procname:"js.loadConfig",prev:framePtr,filename:"C:\\Users\\Joeyl\\OneDrive\\Documents\\GitHub\\strangers_gamejam\\source\\nico\\nico\\backends\\js.nim",line:0};
framePtr = F;
framePtr = F.prev;
}
function clip_177268() {

var F={procname:"nico.clip",prev:framePtr,filename:"C:\\Users\\Joeyl\\OneDrive\\Documents\\GitHub\\strangers_gamejam\\source\\nico\\nico.nim",line:0};
framePtr = F;
F.line = 256;
clipMinX_33465[0] = 0;
F.line = 257;
clipMaxX_33466[0] = subInt(screenWidth_33325[0], 1);
F.line = 258;
clipMinY_33467[0] = 0;
F.line = 259;
clipMaxY_33468[0] = subInt(screenHeight_33327[0], 1);
F.line = 260;
clippingRect_33473[0].Field0 = 0;
F.line = 261;
clippingRect_33473[0].Field1 = 0;
F.line = 262;
clippingRect_33473[0].Field2 = subInt(screenWidth_33325[0], 1);
F.line = 263;
clippingRect_33473[0].Field3 = subInt(screenHeight_33327[0], 1);
framePtr = F.prev;
}
function init_177436(org_177438, app_177439) {

var F={procname:"nico.init",prev:framePtr,filename:"C:\\Users\\Joeyl\\OneDrive\\Documents\\GitHub\\strangers_gamejam\\source\\nico\\nico.nim",line:0};
framePtr = F;
F.line = 1330;
controllers_33347[0] = nimCopy(null, newSeq_163222(0), NTI163227);
F.line = 1332;
init_163205(org_177438, app_177439);
F.line = 1334;
loadPalettePico8_177246();
F.line = 1335;
setSpritesheet_181094(0);
F.line = 1337;
initialized_33310[0] = true;
F.line = 1339;
randomize_174001();
F.line = 1340;
setFont_177203(0);
F.line = 1341;
++excHandler;
try {
F.line = 1342;
loadFont_180185(makeNimstrLit("font.png"), makeNimstrLit(" !\"#$%&\'()*+,-./0123456789:;<=>?@abcdefghijklmnopqrstuvwxyz[\\]^_`ABCDEFGHIJKLMNOPQRSTUVWXYZ{:}~"));
--excHandler;
} catch (EXC) {
 var prevJSError = lastJSError;
 lastJSError = EXC;
 --excHandler;
framePtr = F;
if (lastJSError && (isObj(lastJSError.m_type, NTI3428))) {
}
else {
reraiseException();
}
lastJSError = prevJSError;
} finally {
framePtr = F;
}
F.line = 1345;
loadConfig_163203();
F.line = 1347;
clip_177268();
framePtr = F.prev;
}
init_177436(makeNimstrLit("nico"), makeNimstrLit("test"));
function resize_163258() {

var F={procname:"js.resize",prev:framePtr,filename:"C:\\Users\\Joeyl\\OneDrive\\Documents\\GitHub\\strangers_gamejam\\source\\nico\\nico\\backends\\js.nim",line:0};
framePtr = F;
framePtr = F.prev;
}
function seqToPtr_180809(x_180814) {

return x_180814}
function eqeq__180526(x_180531, y_180534) {

var result_180535 = false;
var F={procname:"==.==",prev:framePtr,filename:"lib\\system.nim",line:0};
framePtr = F;
BeforeRet: do {
if ((seqToPtr_180809(x_180531) == seqToPtr_180809(y_180534))) {
F.line = 2268;
result_180535 = true;
break BeforeRet;
}

if (((x_180531 === null) || (y_180534 === null))) {
F.line = 2271;
result_180535 = false;
break BeforeRet;
}

if (!(((x_180531 != null ? x_180531.length : 0) == (y_180534 != null ? y_180534.length : 0)))) {
F.line = 2274;
result_180535 = false;
break BeforeRet;
}

L1: do {
F.line = 2276;
var i_181045 = 0;
F.line = 1973;
var colontmp__181055 = 0;
F.line = 2276;
colontmp__181055 = subInt((x_180531 != null ? x_180531.length : 0), 1);
F.line = 1955;
var res_181058 = 0;
L2: do {
F.line = 1956;
L3: while (true) {
if (!(res_181058 <= colontmp__181055)) break L3;
F.line = 1957;
i_181045 = res_181058;
if (!((x_180531[chckIndx(i_181045, 0, x_180531.length)-0] == y_180534[chckIndx(i_181045, 0, y_180534.length)-0]))) {
F.line = 2278;
result_180535 = false;
break BeforeRet;
}

F.line = 1976;
res_181058 = addInt(res_181058, 1);
}
} while(false);
} while(false);
F.line = 2280;
result_180535 = true;
break BeforeRet;
} while (false); 
framePtr = F.prev;
return result_180535;
}
function psetRaw_177492(x_177494, y_177495, c_177496) {

var F={procname:"nico.psetRaw",prev:framePtr,filename:"C:\\Users\\Joeyl\\OneDrive\\Documents\\GitHub\\strangers_gamejam\\source\\nico\\nico.nim",line:0};
framePtr = F;
F.line = 370;
swCanvas_33316[0].data[((y_177495 * swCanvas_33316[0].w) + x_177494)] = c_177496;
framePtr = F.prev;
}
function cls_177888() {

var F={procname:"nico.cls",prev:framePtr,filename:"C:\\Users\\Joeyl\\OneDrive\\Documents\\GitHub\\strangers_gamejam\\source\\nico\\nico.nim",line:0};
framePtr = F;
L1: do {
F.line = 336;
var y_177899 = 0;
F.line = 1955;
var res_177920 = clipMinY_33467[0];
L2: do {
F.line = 1956;
L3: while (true) {
if (!(res_177920 <= clipMaxY_33468[0])) break L3;
F.line = 1957;
y_177899 = res_177920;
L4: do {
F.line = 337;
var x_177909 = 0;
F.line = 1955;
var res_177914 = clipMinX_33465[0];
L5: do {
F.line = 1956;
L6: while (true) {
if (!(res_177914 <= clipMaxX_33466[0])) break L6;
F.line = 1957;
x_177909 = res_177914;
F.line = 338;
psetRaw_177492(x_177909, y_177899, 0);
F.line = 1976;
res_177914 = addInt(res_177914, 1);
}
} while(false);
} while(false);
F.line = 1976;
res_177920 = addInt(res_177920, 1);
}
} while(false);
} while(false);
framePtr = F.prev;
}
function present_162213() {

var F={procname:"js.present",prev:framePtr,filename:"C:\\Users\\Joeyl\\OneDrive\\Documents\\GitHub\\strangers_gamejam\\source\\nico\\nico\\backends\\js.nim",line:0};
framePtr = F;
L1: do {
F.line = 41;
var i_162247 = 0;
F.line = 41;
var v_162248 = 0;
F.line = 2150;
var colontmp__162251 = null;
F.line = 41;
colontmp__162251 = swCanvas_33316[0].data;
F.line = 2152;
var i_162254 = 0;
L2: do {
F.line = 2153;
L3: while (true) {
if (!(i_162254 < (colontmp__162251 != null ? colontmp__162251.length : 0))) break L3;
F.line = 2154;
i_162247 = i_162254;
F.line = 2154;
v_162248 = colontmp__162251[chckIndx(i_162254, 0, colontmp__162251.length)-0];
F.line = 42;
swCanvas32_162003[0].data[chckIndx(mulInt(i_162247, 4), 0, swCanvas32_162003[0].data.length)-0] = colors_33418[0][chckIndx(v_162248, 0, colors_33418[0].length)-0]["Field0"];
F.line = 43;
swCanvas32_162003[0].data[chckIndx(addInt(mulInt(i_162247, 4), 1), 0, swCanvas32_162003[0].data.length)-0] = colors_33418[0][chckIndx(v_162248, 0, colors_33418[0].length)-0]["Field1"];
F.line = 44;
swCanvas32_162003[0].data[chckIndx(addInt(mulInt(i_162247, 4), 2), 0, swCanvas32_162003[0].data.length)-0] = colors_33418[0][chckIndx(v_162248, 0, colors_33418[0].length)-0]["Field2"];
F.line = 45;
swCanvas32_162003[0].data[chckIndx(addInt(mulInt(i_162247, 4), 3), 0, swCanvas32_162003[0].data.length)-0] = 255;
F.line = 2155;
i_162254 = addInt(i_162254, 1);
}
} while(false);
} while(false);
F.line = 46;
ctx_162001[0].putImageData(swCanvas32_162003[0], 0.0, 0.0);
framePtr = F.prev;
}
function resize_181062() {

var F={procname:"nico.resize",prev:framePtr,filename:"C:\\Users\\Joeyl\\OneDrive\\Documents\\GitHub\\strangers_gamejam\\source\\nico\\nico.nim",line:0};
framePtr = F;
F.line = 1127;
resize_163258();
F.line = 1128;
clip_177268();
if (!(eqeq__180526(swCanvas_33316[0].data, null))) {
F.line = 1130;
cls_177888();
F.line = 1131;
present_162213();
}

framePtr = F.prev;
}
function fixedSize_181085(enabled_181087) {

var F={procname:"nico.fixedSize",prev:framePtr,filename:"C:\\Users\\Joeyl\\OneDrive\\Documents\\GitHub\\strangers_gamejam\\source\\nico\\nico.nim",line:0};
framePtr = F;
F.line = 1145;
fixedScreenSize_33322[0] = enabled_181087;
F.line = 1146;
resize_181062();
framePtr = F.prev;
}
fixedSize_181085(true);
function integerScale_181091(enabled_181093) {

var F={procname:"nico.integerScale",prev:framePtr,filename:"C:\\Users\\Joeyl\\OneDrive\\Documents\\GitHub\\strangers_gamejam\\source\\nico\\nico.nim",line:0};
framePtr = F;
F.line = 1152;
integerScreenScale_33323[0] = enabled_181093;
F.line = 1153;
resize_181062();
framePtr = F.prev;
}
integerScale_181091(true);
function newSurface_34201(w_34203, h_34204) {

var result_34205 = {data: null, channels: 0, w: 0, h: 0};
var F={procname:"common.newSurface",prev:framePtr,filename:"C:\\Users\\Joeyl\\OneDrive\\Documents\\GitHub\\strangers_gamejam\\source\\nico\\nico\\backends\\common.nim",line:0};
framePtr = F;
F.line = 171;
result_34205.data = nimCopy(null, newSeq_34219(chckRange(mulInt(w_34203, h_34204), 0, 2147483647)), NTI34224);
F.line = 172;
result_34205.w = w_34203;
F.line = 173;
result_34205.h = h_34204;
framePtr = F.prev;
return result_34205;
}
function setButtonState_26116(self_26118, button_26119, down_26120) {

var Tmp1;
var F={procname:"controller.setButtonState",prev:framePtr,filename:"C:\\Users\\Joeyl\\OneDrive\\Documents\\GitHub\\strangers_gamejam\\source\\nico\\nico\\controller.nim",line:0};
framePtr = F;
BeforeRet: do {
if ((13 < button_26119)) {
F.line = 121;
break BeforeRet;
}

F.line = 122;
if (down_26120) {
Tmp1 = 1;
}
else {
Tmp1 = 0;
}

self_26118.buttons[chckIndx(button_26119, 0, self_26118.buttons.length)-0] = Tmp1;
} while (false); 
framePtr = F.prev;
}
function createWindow_162257(title_162259, w_162260, h_162261, scale_162262, fullscreen_162263) {

function colonanonymous__162264(e_162266) {

var F={procname:"createWindow.:anonymous",prev:framePtr,filename:"C:\\Users\\Joeyl\\OneDrive\\Documents\\GitHub\\strangers_gamejam\\source\\nico\\nico\\backends\\js.nim",line:0};
framePtr = F;
F.line = 60;
mouseDetected_33475[0] = true;
F.line = 61;
var scale_162267 = (canvas_162005[0].clientWidth / screenWidth_33325[0]);
F.line = 62;
mouseX_33477[0] = ((e_162266.offsetX / scale_162267)|0);
F.line = 63;
mouseY_33478[0] = ((e_162266.offsetY / scale_162267)|0);
framePtr = F.prev;
}
function colonanonymous__162274(e_162276) {

var F={procname:"createWindow.:anonymous",prev:framePtr,filename:"C:\\Users\\Joeyl\\OneDrive\\Documents\\GitHub\\strangers_gamejam\\source\\nico\\nico\\backends\\js.nim",line:0};
framePtr = F;
F.line = 66;
mouseButtonsDown_33483[0][chckIndx(e_162276.button, 0, mouseButtonsDown_33483[0].length)-0] = true;
F.line = 67;
e_162276.preventDefault();
framePtr = F.prev;
}
function colonanonymous__162277(e_162279) {

var F={procname:"createWindow.:anonymous",prev:framePtr,filename:"C:\\Users\\Joeyl\\OneDrive\\Documents\\GitHub\\strangers_gamejam\\source\\nico\\nico\\backends\\js.nim",line:0};
framePtr = F;
F.line = 70;
mouseButtonsDown_33483[0][chckIndx(e_162279.button, 0, mouseButtonsDown_33483[0].length)-0] = false;
F.line = 71;
e_162279.preventDefault();
framePtr = F.prev;
}
function colonanonymous__162280(e_162282) {

var F={procname:"createWindow.:anonymous",prev:framePtr,filename:"C:\\Users\\Joeyl\\OneDrive\\Documents\\GitHub\\strangers_gamejam\\source\\nico\\nico\\backends\\js.nim",line:0};
framePtr = F;
F.line = 74;
e_162282.preventDefault();
framePtr = F.prev;
}
function colonanonymous__162283(e_162285) {

var F={procname:"createWindow.:anonymous",prev:framePtr,filename:"C:\\Users\\Joeyl\\OneDrive\\Documents\\GitHub\\strangers_gamejam\\source\\nico\\nico\\backends\\js.nim",line:0};
framePtr = F;
F.line = 77;
var e_162286 = e_162285;
F.line = 78;
mouseButtonsDown_33483[0][0] = true;
F.line = 79;
var scale_162287 = (canvas_162005[0].clientWidth / screenWidth_33325[0]);
F.line = 80;
mouseX_33477[0] = ((subInt(e_162286.touches.item(0).pageX, e_162286.target.offsetLeft) / scale_162287)|0);
F.line = 81;
mouseY_33478[0] = ((subInt(e_162286.touches.item(0).pageY, e_162286.target.offsetTop) / scale_162287)|0);
F.line = 83;
e_162286.preventDefault();
framePtr = F.prev;
}
function colonanonymous__162294(e_162296) {

var F={procname:"createWindow.:anonymous",prev:framePtr,filename:"C:\\Users\\Joeyl\\OneDrive\\Documents\\GitHub\\strangers_gamejam\\source\\nico\\nico\\backends\\js.nim",line:0};
framePtr = F;
F.line = 86;
var e_162297 = e_162296;
F.line = 87;
var scale_162298 = (canvas_162005[0].clientWidth / screenWidth_33325[0]);
F.line = 88;
mouseX_33477[0] = ((subInt(e_162297.touches.item(0).pageX, e_162297.target.offsetLeft) / scale_162298)|0);
F.line = 89;
mouseY_33478[0] = ((subInt(e_162297.touches.item(0).pageY, e_162297.target.offsetTop) / scale_162298)|0);
F.line = 90;
e_162297.preventDefault();
framePtr = F.prev;
}
function colonanonymous__162305(e_162307) {

var F={procname:"createWindow.:anonymous",prev:framePtr,filename:"C:\\Users\\Joeyl\\OneDrive\\Documents\\GitHub\\strangers_gamejam\\source\\nico\\nico\\backends\\js.nim",line:0};
framePtr = F;
F.line = 93;
mouseButtonsDown_33483[0][0] = false;
F.line = 94;
e_162307.preventDefault();
framePtr = F.prev;
}
function colonanonymous__162320(event_162322) {

var F={procname:"createWindow.:anonymous",prev:framePtr,filename:"C:\\Users\\Joeyl\\OneDrive\\Documents\\GitHub\\strangers_gamejam\\source\\nico\\nico\\backends\\js.nim",line:0};
framePtr = F;
L1: do {
F.line = 106;
var btn_162371 = 0;
F.line = 106;
var keys_162372 = null;
F.line = 2133;
var i_162612 = 0;
if ((i_162612 <= 13)) {
L2: do {
F.line = 2135;
L3: while (true) {
if (!true) break L3;
F.line = 2136;
btn_162371 = i_162612;
F.line = 2136;
keys_162372 = keymap_33334[0][chckIndx(i_162612, 0, keymap_33334[0].length)-0];
L4: do {
F.line = 107;
var key_162602 = 0;
F.line = 3580;
var i_162607 = 0;
F.line = 3581;
var L_162609 = (keys_162372 != null ? keys_162372.length : 0);
L5: do {
F.line = 3582;
L6: while (true) {
if (!(i_162607 < L_162609)) break L6;
F.line = 3583;
key_162602 = keys_162372[chckIndx(i_162607, 0, keys_162372.length)-0];
if ((event_162322.keyCode == key_162602)) {
F.line = 109;
setButtonState_26116(controllers_33347[0][0], btn_162371, true);
F.line = 110;
event_162322.preventDefault();
}

F.line = 3584;
i_162607 = addInt(i_162607, 1);
if (!(((keys_162372 != null ? keys_162372.length : 0) == L_162609))) {
F.line = 3585;
failedAssertImpl_21839(makeNimstrLit("len(a) == L seq modified while iterating over it"));
}

}
} while(false);
} while(false);
if ((13 <= i_162612)) {
F.line = 2137;
break L2;
}

F.line = 2138;
i_162612 = addInt(i_162612, 1);
}
} while(false);
}

} while(false);
framePtr = F.prev;
}
function colonanonymous__162613(event_162615) {

var F={procname:"createWindow.:anonymous",prev:framePtr,filename:"C:\\Users\\Joeyl\\OneDrive\\Documents\\GitHub\\strangers_gamejam\\source\\nico\\nico\\backends\\js.nim",line:0};
framePtr = F;
L1: do {
F.line = 113;
var btn_162630 = 0;
F.line = 113;
var keys_162631 = null;
F.line = 2133;
var i_162650 = 0;
if ((i_162650 <= 13)) {
L2: do {
F.line = 2135;
L3: while (true) {
if (!true) break L3;
F.line = 2136;
btn_162630 = i_162650;
F.line = 2136;
keys_162631 = keymap_33334[0][chckIndx(i_162650, 0, keymap_33334[0].length)-0];
L4: do {
F.line = 114;
var key_162640 = 0;
F.line = 3580;
var i_162645 = 0;
F.line = 3581;
var L_162647 = (keys_162631 != null ? keys_162631.length : 0);
L5: do {
F.line = 3582;
L6: while (true) {
if (!(i_162645 < L_162647)) break L6;
F.line = 3583;
key_162640 = keys_162631[chckIndx(i_162645, 0, keys_162631.length)-0];
if ((event_162615.keyCode == key_162640)) {
F.line = 116;
setButtonState_26116(controllers_33347[0][0], btn_162630, false);
F.line = 117;
event_162615.preventDefault();
}

F.line = 3584;
i_162645 = addInt(i_162645, 1);
if (!(((keys_162631 != null ? keys_162631.length : 0) == L_162647))) {
F.line = 3585;
failedAssertImpl_21839(makeNimstrLit("len(a) == L seq modified while iterating over it"));
}

}
} while(false);
} while(false);
if ((13 <= i_162650)) {
F.line = 2137;
break L2;
}

F.line = 2138;
i_162650 = addInt(i_162650, 1);
}
} while(false);
}

} while(false);
framePtr = F.prev;
}
var F={procname:"js.createWindow",prev:framePtr,filename:"C:\\Users\\Joeyl\\OneDrive\\Documents\\GitHub\\strangers_gamejam\\source\\nico\\nico\\backends\\js.nim",line:0};
framePtr = F;
F.line = 49;
nimCopy(swCanvas_33316[0], newSurface_34201(w_162260, h_162261), NTI33246);
F.line = 50;
screenWidth_33325[0] = w_162260;
F.line = 51;
screenHeight_33327[0] = h_162261;
F.line = 52;
canvas_162005[0] = document.createElement("canvas");
F.line = 53;
canvas_162005[0].width = w_162260;
F.line = 54;
canvas_162005[0].height = h_162261;
F.line = 55;
canvas_162005[0].style.width = toJSStr((cstrToNimstr((mulInt(w_162260, scale_162262))+"").slice(0,-1)).concat(makeNimstrLit("px")));
F.line = 56;
canvas_162005[0].style.height = toJSStr((cstrToNimstr((mulInt(h_162261, scale_162262))+"").slice(0,-1)).concat(makeNimstrLit("px")));
F.line = 57;
canvas_162005[0].style.cursor = "none";
F.line = 59;
canvas_162005[0].onmousemove = colonanonymous__162264;
F.line = 65;
canvas_162005[0].onmousedown = colonanonymous__162274;
F.line = 69;
canvas_162005[0].onmouseup = colonanonymous__162277;
F.line = 73;
canvas_162005[0].addEventListener("contextmenu", colonanonymous__162280, false);
F.line = 76;
canvas_162005[0].addEventListener("touchstart", colonanonymous__162283, false);
F.line = 85;
canvas_162005[0].addEventListener("touchmove", colonanonymous__162294, false);
F.line = 92;
canvas_162005[0].addEventListener("touchend", colonanonymous__162305, false);
F.line = 97;
var holder_162308 = document.getElementById("nicogame");
if (!((holder_162308 == null))) {
F.line = 99;
holder_162308.appendChild(canvas_162005[0]);
}

F.line = 100;
ctx_162001[0] = getContext2D_57513(canvas_162005[0]);
F.line = 101;
swCanvas32_162003[0] = ctx_162001[0].getImageData(0.0, 0.0, w_162260, h_162261);
F.line = 103;
frame_33406[0] = 0;
F.line = 105;
window.onkeydown = colonanonymous__162320;
F.line = 112;
window.onkeyup = colonanonymous__162613;
framePtr = F.prev;
}
function createWindow_181672(title_181674, w_181675, h_181676, scale_181677, fullscreen_181678) {

var F={procname:"nico.createWindow",prev:framePtr,filename:"C:\\Users\\Joeyl\\OneDrive\\Documents\\GitHub\\strangers_gamejam\\source\\nico\\nico.nim",line:0};
framePtr = F;
F.line = 1305;
createWindow_162257(title_181674, w_181675, h_181676, scale_181677, fullscreen_181678);
framePtr = F.prev;
}
createWindow_181672(makeNimstrLit("nico"), 128, 128, 4, false);
function update_25610(self_25612) {

var F={procname:"controller.update",prev:framePtr,filename:"C:\\Users\\Joeyl\\OneDrive\\Documents\\GitHub\\strangers_gamejam\\source\\nico\\nico\\controller.nim",line:0};
framePtr = F;
L1: do {
F.line = 62;
var i_25814 = 0;
F.line = 1955;
var res_25869 = 0;
L2: do {
F.line = 1956;
L3: while (true) {
if (!(res_25869 <= 13)) break L3;
F.line = 1957;
i_25814 = chckRange(res_25869, 0, 13);
if ((self_25612.kind == 1)) {
if ((i_25814 == 9)) {
if ((self_25612.deadzone < self_25612.axes[4].Field0)) {
F.line = 66;
self_25612.buttons[chckIndx(i_25814, 0, self_25612.buttons.length)-0] = addInt(self_25612.buttons[chckIndx(i_25814, 0, self_25612.buttons.length)-0], 1);
}
else {
F.line = 68;
self_25612.buttons[chckIndx(i_25814, 0, self_25612.buttons.length)-0] = 0;
}

}
else {
if ((i_25814 == 11)) {
if ((self_25612.deadzone < self_25612.axes[5].Field0)) {
F.line = 71;
self_25612.buttons[chckIndx(i_25814, 0, self_25612.buttons.length)-0] = addInt(self_25612.buttons[chckIndx(i_25814, 0, self_25612.buttons.length)-0], 1);
}
else {
F.line = 73;
self_25612.buttons[chckIndx(i_25814, 0, self_25612.buttons.length)-0] = 0;
}

}
}
}

if ((1 <= self_25612.buttons[chckIndx(i_25814, 0, self_25612.buttons.length)-0])) {
F.line = 76;
self_25612.buttons[chckIndx(i_25814, 0, self_25612.buttons.length)-0] = addInt(self_25612.buttons[chckIndx(i_25814, 0, self_25612.buttons.length)-0], 1);
}

F.line = 1976;
res_25869 = addInt(res_25869, 1);
}
} while(false);
} while(false);
framePtr = F.prev;
}
function step_162796() {

var F={procname:"js.step",prev:framePtr,filename:"C:\\Users\\Joeyl\\OneDrive\\Documents\\GitHub\\strangers_gamejam\\source\\nico\\nico\\backends\\js.nim",line:0};
framePtr = F;
BeforeRet: do {
if ((0 < loading_33314[0])) {
F.line = 161;
console.log("loading...", loading_33314[0]);
L1: do {
F.line = 176;
var i_162822 = 0;
F.line = 176;
var v_162823 = 0;
F.line = 2150;
var colontmp__163047 = null;
F.line = 176;
colontmp__163047 = swCanvas_33316[0].data;
F.line = 2152;
var i_163050 = 0;
L2: do {
F.line = 2153;
L3: while (true) {
if (!(i_163050 < (colontmp__163047 != null ? colontmp__163047.length : 0))) break L3;
F.line = 2154;
i_162822 = i_163050;
F.line = 2154;
v_162823 = colontmp__163047[chckIndx(i_163050, 0, colontmp__163047.length)-0];
F.line = 177;
swCanvas32_162003[0].data[chckIndx(mulInt(i_162822, 4), 0, swCanvas32_162003[0].data.length)-0] = colors_33418[0][chckIndx(v_162823, 0, colors_33418[0].length)-0]["Field0"];
F.line = 178;
swCanvas32_162003[0].data[chckIndx(addInt(mulInt(i_162822, 4), 1), 0, swCanvas32_162003[0].data.length)-0] = colors_33418[0][chckIndx(v_162823, 0, colors_33418[0].length)-0]["Field1"];
F.line = 179;
swCanvas32_162003[0].data[chckIndx(addInt(mulInt(i_162822, 4), 2), 0, swCanvas32_162003[0].data.length)-0] = colors_33418[0][chckIndx(v_162823, 0, colors_33418[0].length)-0]["Field2"];
F.line = 180;
swCanvas32_162003[0].data[chckIndx(addInt(mulInt(i_162822, 4), 3), 0, swCanvas32_162003[0].data.length)-0] = 255;
F.line = 2155;
i_163050 = addInt(i_163050, 1);
}
} while(false);
} while(false);
F.line = 181;
ctx_162001[0].putImageData(swCanvas32_162003[0], 0.0, 0.0);
F.line = 183;
frame_33406[0] = addInt(frame_33406[0], 1);
F.line = 184;
break BeforeRet;
}

L4: do {
F.line = 186;
var i_162866 = 0;
F.line = 186;
var b_162867 = false;
F.line = 2133;
var i_163056 = 0;
if ((i_163056 <= 2)) {
L5: do {
F.line = 2135;
L6: while (true) {
if (!true) break L6;
F.line = 2136;
i_162866 = i_163056;
F.line = 2136;
b_162867 = mouseButtonsDown_33483[0][chckIndx(i_163056, 0, mouseButtonsDown_33483[0].length)-0];
if (b_162867) {
F.line = 188;
mouseButtons_33487[0][chckIndx(i_162866, 0, mouseButtons_33487[0].length)-0] = addInt(mouseButtons_33487[0][chckIndx(i_162866, 0, mouseButtons_33487[0].length)-0], 1);
}
else {
F.line = 190;
mouseButtons_33487[0][chckIndx(i_162866, 0, mouseButtons_33487[0].length)-0] = 0;
}

if ((2 <= i_163056)) {
F.line = 2137;
break L5;
}

F.line = 2138;
i_163056 = addInt(i_163056, 1);
}
} while(false);
}

} while(false);
L7: do {
F.line = 192;
var controller_163002 = null;
F.line = 3580;
var i_163060 = 0;
F.line = 3581;
var L_163062 = (controllers_33347[0] != null ? controllers_33347[0].length : 0);
L8: do {
F.line = 3582;
L9: while (true) {
if (!(i_163060 < L_163062)) break L9;
F.line = 3583;
controller_163002 = controllers_33347[0][chckIndx(i_163060, 0, controllers_33347[0].length)-0];
F.line = 193;
update_25610(controller_163002);
F.line = 3584;
i_163060 = addInt(i_163060, 1);
if (!(((controllers_33347[0] != null ? controllers_33347[0].length : 0) == L_163062))) {
F.line = 3585;
failedAssertImpl_21839(makeNimstrLit("len(a) == L seq modified while iterating over it"));
}

}
} while(false);
} while(false);
if (!((updateFunc_33386[0] == null))) {
F.line = 196;
updateFunc_33386[0](1.6666666666666666e-002);
}

if (!((drawFunc_33390[0] == null))) {
F.line = 199;
drawFunc_33390[0]();
}

L10: do {
F.line = 202;
var i_163033 = 0;
F.line = 202;
var v_163034 = 0;
F.line = 2150;
var colontmp__163064 = null;
F.line = 202;
colontmp__163064 = swCanvas_33316[0].data;
F.line = 2152;
var i_163067 = 0;
L11: do {
F.line = 2153;
L12: while (true) {
if (!(i_163067 < (colontmp__163064 != null ? colontmp__163064.length : 0))) break L12;
F.line = 2154;
i_163033 = i_163067;
F.line = 2154;
v_163034 = colontmp__163064[chckIndx(i_163067, 0, colontmp__163064.length)-0];
F.line = 203;
swCanvas32_162003[0].data[chckIndx(mulInt(i_163033, 4), 0, swCanvas32_162003[0].data.length)-0] = colors_33418[0][chckIndx(v_163034, 0, colors_33418[0].length)-0]["Field0"];
F.line = 204;
swCanvas32_162003[0].data[chckIndx(addInt(mulInt(i_163033, 4), 1), 0, swCanvas32_162003[0].data.length)-0] = colors_33418[0][chckIndx(v_163034, 0, colors_33418[0].length)-0]["Field1"];
F.line = 205;
swCanvas32_162003[0].data[chckIndx(addInt(mulInt(i_163033, 4), 2), 0, swCanvas32_162003[0].data.length)-0] = colors_33418[0][chckIndx(v_163034, 0, colors_33418[0].length)-0]["Field2"];
F.line = 206;
swCanvas32_162003[0].data[chckIndx(addInt(mulInt(i_163033, 4), 3), 0, swCanvas32_162003[0].data.length)-0] = 255;
F.line = 2155;
i_163067 = addInt(i_163067, 1);
}
} while(false);
} while(false);
F.line = 207;
ctx_162001[0].putImageData(swCanvas32_162003[0], 0.0, 0.0);
F.line = 209;
frame_33406[0] = addInt(frame_33406[0], 1);
} while (false); 
framePtr = F.prev;
}
function run_163421() {

var F={procname:"js.run",prev:framePtr,filename:"C:\\Users\\Joeyl\\OneDrive\\Documents\\GitHub\\strangers_gamejam\\source\\nico\\nico\\backends\\js.nim",line:0};
framePtr = F;
if (!((interval_162008[0] == null))) {
F.line = 329;
window.clearInterval(interval_162008[0]);
}

F.line = 330;
interval_162008[0] = window.setInterval(step_162796, 16);
framePtr = F.prev;
}
function run_181760(init_181764, update_181768, draw_181771) {

var F={procname:"nico.run",prev:framePtr,filename:"C:\\Users\\Joeyl\\OneDrive\\Documents\\GitHub\\strangers_gamejam\\source\\nico\\nico.nim",line:0};
framePtr = F;
if (!(!((update_181768 == null)))) {
F.line = 1365;
failedAssertImpl_21839(makeNimstrLit("\x0D\x0A  not (update == nil) "));
}

if (!(!((draw_181771 == null)))) {
F.line = 1366;
failedAssertImpl_21839(makeNimstrLit("\x0D\x0A  not (draw == nil) "));
}

F.line = 1368;
initFunc_33382[0] = init_181764;
F.line = 1369;
updateFunc_33386[0] = update_181768;
F.line = 1370;
drawFunc_33390[0] = draw_181771;
if (!((initFunc_33382[0] == null))) {
F.line = 1373;
initFunc_33382[0]();
}

if (!(running_33312[0])) {
F.line = 1376;
running_33312[0] = true;
F.line = 1377;
run_163421();
}

framePtr = F.prev;
}
function gameInit_183017() {

var F={procname:"paintout.gameInit",prev:framePtr,filename:"paintout.nim",line:0};
framePtr = F;
F.line = 33;
text_183010[0] = nimCopy(null, makeNimstrLit("HELLO WORLD"), NTI138);
F.line = 34;
bxv_183008[0] = 5.0000000000000000e-001;
F.line = 35;
byv_183009[0] = 7.5000000000000000e-001;
framePtr = F.prev;
}
function pluseq__54511(x_54516, x_54516_Idx, y_54518) {

var F={procname:"+=.+=",prev:framePtr,filename:"lib\\system.nim",line:0};
framePtr = F;
F.line = 3475;
x_54516[x_54516_Idx] = (x_54516[x_54516_Idx] + y_54518);
framePtr = F.prev;
}
function axis_26021(self_26023, axis_26024) {

var result_26025 = 0.0;
var F={procname:"controller.axis",prev:framePtr,filename:"C:\\Users\\Joeyl\\OneDrive\\Documents\\GitHub\\strangers_gamejam\\source\\nico\\nico\\controller.nim",line:0};
framePtr = F;
BeforeRet: do {
F.line = 83;
result_26025 = self_26023.axes[chckIndx(axis_26024, 0, self_26023.axes.length)-0].Field0;
break BeforeRet;
} while (false); 
framePtr = F.prev;
return result_26025;
}
function btn_26033(self_26035, button_26036) {

var Tmp1;
var Tmp2;
var Tmp3;
var Tmp4;
var result_26037 = false;
var F={procname:"controller.btn",prev:framePtr,filename:"C:\\Users\\Joeyl\\OneDrive\\Documents\\GitHub\\strangers_gamejam\\source\\nico\\nico\\controller.nim",line:0};
framePtr = F;
BeforeRet: do {
if ((button_26036 == 2)) {
F.line = 95;
if ((0 < self_26035.buttons[chckIndx(button_26036, 0, self_26035.buttons.length)-0])) Tmp1 = true; else {Tmp1 = (axis_26021(self_26035, 0) < -(self_26035.deadzone)); }result_26037 = Tmp1;
break BeforeRet;
}
else {
if ((button_26036 == 3)) {
F.line = 97;
if ((0 < self_26035.buttons[chckIndx(button_26036, 0, self_26035.buttons.length)-0])) Tmp2 = true; else {Tmp2 = (self_26035.deadzone < axis_26021(self_26035, 0)); }result_26037 = Tmp2;
break BeforeRet;
}
else {
if ((button_26036 == 0)) {
F.line = 99;
if ((0 < self_26035.buttons[chckIndx(button_26036, 0, self_26035.buttons.length)-0])) Tmp3 = true; else {Tmp3 = (axis_26021(self_26035, 1) < -(self_26035.deadzone)); }result_26037 = Tmp3;
break BeforeRet;
}
else {
if ((button_26036 == 1)) {
F.line = 101;
if ((0 < self_26035.buttons[chckIndx(button_26036, 0, self_26035.buttons.length)-0])) Tmp4 = true; else {Tmp4 = (self_26035.deadzone < axis_26021(self_26035, 1)); }result_26037 = Tmp4;
break BeforeRet;
}
}}}
F.line = 102;
result_26037 = (0 < self_26035.buttons[chckIndx(button_26036, 0, self_26035.buttons.length)-0]);
break BeforeRet;
} while (false); 
framePtr = F.prev;
return result_26037;
}
function btn_177277(b_177279) {

var result_177742 = false;
var F={procname:"nico.btn",prev:framePtr,filename:"C:\\Users\\Joeyl\\OneDrive\\Documents\\GitHub\\strangers_gamejam\\source\\nico\\nico.nim",line:0};
framePtr = F;
BeforeRet: do {
L1: do {
F.line = 277;
var c_177751 = null;
F.line = 3580;
var i_177755 = 0;
F.line = 3581;
var L_177757 = (controllers_33347[0] != null ? controllers_33347[0].length : 0);
L2: do {
F.line = 3582;
L3: while (true) {
if (!(i_177755 < L_177757)) break L3;
F.line = 3583;
c_177751 = controllers_33347[0][chckIndx(i_177755, 0, controllers_33347[0].length)-0];
if (btn_26033(c_177751, b_177279)) {
F.line = 279;
result_177742 = true;
break BeforeRet;
}

F.line = 3584;
i_177755 = addInt(i_177755, 1);
if (!(((controllers_33347[0] != null ? controllers_33347[0].length : 0) == L_177757))) {
F.line = 3585;
failedAssertImpl_21839(makeNimstrLit("len(a) == L seq modified while iterating over it"));
}

}
} while(false);
} while(false);
F.line = 280;
result_177742 = false;
break BeforeRet;
} while (false); 
framePtr = F.prev;
return result_177742;
}
function minuseq__171181(x_171186, x_171186_Idx, y_171188) {

var F={procname:"-=.-=",prev:framePtr,filename:"lib\\system.nim",line:0};
framePtr = F;
F.line = 3480;
x_171186[x_171186_Idx] = (x_171186[x_171186_Idx] - y_171188);
framePtr = F.prev;
}
function stareq__54501(x_54506, x_54506_Idx, y_54508) {

var F={procname:"*=.*=",prev:framePtr,filename:"lib\\system.nim",line:0};
framePtr = F;
F.line = 3485;
x_54506[x_54506_Idx] = (x_54506[x_54506_Idx] * y_54508);
framePtr = F.prev;
}
function toPint_33305(x_33307) {

var result_33308 = 0;
var F={procname:"common.toPint",prev:framePtr,filename:"C:\\Users\\Joeyl\\OneDrive\\Documents\\GitHub\\strangers_gamejam\\source\\nico\\nico\\backends\\common.nim",line:0};
framePtr = F;
BeforeRet: do {
F.line = 58;
result_33308 = x_33307;
break BeforeRet;
} while (false); 
framePtr = F.prev;
return result_33308;
}
function textWidth_177230(text_177232, scale_177233) {

var result_180276 = 0;
var F={procname:"nico.textWidth",prev:framePtr,filename:"C:\\Users\\Joeyl\\OneDrive\\Documents\\GitHub\\strangers_gamejam\\source\\nico\\nico.nim",line:0};
framePtr = F;
BeforeRet: do {
F.line = 1054;
var font_180277 = fonts_33402[0][chckIndx(currentFontId_33404[0], 0, fonts_33402[0].length)-0];
if ((font_180277 == null)) {
F.line = 1056;
result_180276 = 0;
break BeforeRet;
}

L1: do {
F.line = 1057;
var c_180290 = 0;
F.line = 3598;
var i_180311 = 0;
F.line = 3599;
var L_180313 = (text_177232 != null ? text_177232.length-1 : 0);
L2: do {
F.line = 3600;
L3: while (true) {
if (!(i_180311 < L_180313)) break L3;
F.line = 3601;
c_180290 = text_177232[chckIndx(i_180311, 0, text_177232.length)-0];
if (((c_180290|0) < (font_180277.rects != null ? font_180277.rects.length : 0))) {
F.line = 1059;
result_180276 = addInt(result_180276, toPint_33305(addInt(mulInt(font_180277.rects[chckIndx(c_180290, 0, font_180277.rects.length)-0].Field2, (scale_177233|0)), (scale_177233|0))));
}

F.line = 3602;
i_180311 = addInt(i_180311, 1);
if (!(((text_177232 != null ? text_177232.length-1 : 0) == L_180313))) {
F.line = 3603;
failedAssertImpl_21839(makeNimstrLit("len(a) == L string modified while iterating over it"));
}

}
} while(false);
} while(false);
} while (false); 
framePtr = F.prev;
return result_180276;
}
function toPint_33295(x_33297) {

var result_33298 = 0;
var F={procname:"common.toPint",prev:framePtr,filename:"C:\\Users\\Joeyl\\OneDrive\\Documents\\GitHub\\strangers_gamejam\\source\\nico\\nico\\backends\\common.nim",line:0};
framePtr = F;
BeforeRet: do {
F.line = 52;
result_33298 = x_33297;
break BeforeRet;
} while (false); 
framePtr = F.prev;
return result_33298;
}
function axisp_26026(self_26028, axis_26029, value_26030) {

var Tmp1;
var Tmp2;
var Tmp3;
var result_26031 = false;
var F={procname:"controller.axisp",prev:framePtr,filename:"C:\\Users\\Joeyl\\OneDrive\\Documents\\GitHub\\strangers_gamejam\\source\\nico\\nico\\controller.nim",line:0};
framePtr = F;
BeforeRet: do {
if ((value_26030 == -1.0000000000000000e+000)) {
F.line = 87;
if (!(self_26028.axes[chckIndx(axis_26029, 0, self_26028.axes.length)-0].Field0 < -(self_26028.deadzone))) Tmp1 = false; else {Tmp1 = !((self_26028.axes[chckIndx(axis_26029, 0, self_26028.axes.length)-0].Field1 < -(self_26028.deadzone))); }result_26031 = Tmp1;
break BeforeRet;
}

if ((value_26030 == 1.0000000000000000e+000)) {
F.line = 89;
if (!(self_26028.deadzone < self_26028.axes[chckIndx(axis_26029, 0, self_26028.axes.length)-0].Field0)) Tmp2 = false; else {Tmp2 = !((self_26028.deadzone < self_26028.axes[chckIndx(axis_26029, 0, self_26028.axes.length)-0].Field1)); }result_26031 = Tmp2;
break BeforeRet;
}

if ((value_26030 == 0.0)) {
F.line = 91;
if (!(Math.abs(self_26028.axes[chckIndx(axis_26029, 0, self_26028.axes.length)-0].Field0) < self_26028.deadzone)) Tmp3 = false; else {Tmp3 = !((Math.abs(self_26028.axes[chckIndx(axis_26029, 0, self_26028.axes.length)-0].Field1) < self_26028.deadzone)); }result_26031 = Tmp3;
break BeforeRet;
}

} while (false); 
framePtr = F.prev;
return result_26031;
}
function btnp_26070(self_26072, button_26073) {

var Tmp1;
var Tmp2;
var Tmp3;
var Tmp4;
var result_26074 = false;
var F={procname:"controller.btnp",prev:framePtr,filename:"C:\\Users\\Joeyl\\OneDrive\\Documents\\GitHub\\strangers_gamejam\\source\\nico\\nico\\controller.nim",line:0};
framePtr = F;
BeforeRet: do {
if ((button_26073 == 2)) {
F.line = 106;
if ((self_26072.buttons[chckIndx(button_26073, 0, self_26072.buttons.length)-0] == 2)) Tmp1 = true; else {Tmp1 = axisp_26026(self_26072, 0, -1.0000000000000000e+000); }result_26074 = Tmp1;
break BeforeRet;
}
else {
if ((button_26073 == 3)) {
F.line = 108;
if ((self_26072.buttons[chckIndx(button_26073, 0, self_26072.buttons.length)-0] == 2)) Tmp2 = true; else {Tmp2 = axisp_26026(self_26072, 0, 1.0000000000000000e+000); }result_26074 = Tmp2;
break BeforeRet;
}
else {
if ((button_26073 == 0)) {
F.line = 110;
if ((self_26072.buttons[chckIndx(button_26073, 0, self_26072.buttons.length)-0] == 2)) Tmp3 = true; else {Tmp3 = axisp_26026(self_26072, 1, -1.0000000000000000e+000); }result_26074 = Tmp3;
break BeforeRet;
}
else {
if ((button_26073 == 1)) {
F.line = 112;
if ((self_26072.buttons[chckIndx(button_26073, 0, self_26072.buttons.length)-0] == 2)) Tmp4 = true; else {Tmp4 = axisp_26026(self_26072, 1, 1.0000000000000000e+000); }result_26074 = Tmp4;
break BeforeRet;
}
}}}
F.line = 113;
result_26074 = (self_26072.buttons[chckIndx(button_26073, 0, self_26072.buttons.length)-0] == 2);
break BeforeRet;
} while (false); 
framePtr = F.prev;
return result_26074;
}
function btnp_177280(b_177282) {

var result_177767 = false;
var F={procname:"nico.btnp",prev:framePtr,filename:"C:\\Users\\Joeyl\\OneDrive\\Documents\\GitHub\\strangers_gamejam\\source\\nico\\nico.nim",line:0};
framePtr = F;
BeforeRet: do {
L1: do {
F.line = 288;
var c_177776 = null;
F.line = 3580;
var i_177780 = 0;
F.line = 3581;
var L_177782 = (controllers_33347[0] != null ? controllers_33347[0].length : 0);
L2: do {
F.line = 3582;
L3: while (true) {
if (!(i_177780 < L_177782)) break L3;
F.line = 3583;
c_177776 = controllers_33347[0][chckIndx(i_177780, 0, controllers_33347[0].length)-0];
if (btnp_26070(c_177776, b_177282)) {
F.line = 290;
result_177767 = true;
break BeforeRet;
}

F.line = 3584;
i_177780 = addInt(i_177780, 1);
if (!(((controllers_33347[0] != null ? controllers_33347[0].length : 0) == L_177782))) {
F.line = 3585;
failedAssertImpl_21839(makeNimstrLit("len(a) == L seq modified while iterating over it"));
}

}
} while(false);
} while(false);
F.line = 291;
result_177767 = false;
break BeforeRet;
} while (false); 
framePtr = F.prev;
return result_177767;
}
function random_169318(max_169320) {

var result_169321 = 0.0;
var F={procname:"random.random",prev:framePtr,filename:"lib\\pure\\random.nim",line:0};
framePtr = F;
F.line = 89;
var x_169323 = next_168841(state_168605[0]);
F.line = 91;
result_169321 = ((x_169323 / 4294967295) * max_169320);
framePtr = F.prev;
return result_169321;
}
function rnd_177489(x_177491) {

var result_181642 = 0.0;
var F={procname:"nico.rnd",prev:framePtr,filename:"C:\\Users\\Joeyl\\OneDrive\\Documents\\GitHub\\strangers_gamejam\\source\\nico\\nico.nim",line:0};
framePtr = F;
BeforeRet: do {
F.line = 1284;
result_181642 = random_169318(x_177491);
break BeforeRet;
} while (false); 
framePtr = F.prev;
return result_181642;
}
function random_169277(max_169279) {

var result_169280 = 0;
var F={procname:"random.random",prev:framePtr,filename:"lib\\pure\\random.nim",line:0};
framePtr = F;
BeforeRet: do {
L1: do {
F.line = 79;
L2: while (true) {
if (!true) break L2;
F.line = 80;
var x_169282 = next_168841(state_168605[0]);
if ((x_169282 < ((4294967295 - (4294967295 % chckRange(max_169279, 0, 4294967295))) >>> 0))) {
F.line = 82;
result_169280 = ((x_169282 % max_169279)|0);
break BeforeRet;
}

}
} while(false);
} while (false); 
framePtr = F.prev;
return result_169280;
}
function random_183171(x_183176) {

var result_183177 = 0;
var F={procname:"random.random",prev:framePtr,filename:"lib\\pure\\random.nim",line:0};
framePtr = F;
F.line = 98;
result_183177 = addInt(random_169277(subInt(x_183176.b, x_183176.a)), x_183176.a);
framePtr = F.prev;
return result_183177;
}
function dotdot__51449(a_51453, b_51455) {

var result_51457 = {a: 0, b: 0};
var F={procname:".....",prev:framePtr,filename:"lib\\system.nim",line:0};
framePtr = F;
F.line = 290;
result_51457.a = a_51453;
F.line = 291;
result_51457.b = b_51455;
framePtr = F.prev;
return result_51457;
}
function random_183134(a_183139) {

var result_183140 = null;
var F={procname:"random.random",prev:framePtr,filename:"lib\\pure\\random.nim",line:0};
framePtr = F;
F.line = 102;
result_183140 = nimCopy(null, a_183139[chckIndx(random_183171(dotdot__51449(0, (a_183139 != null ? a_183139.length : 0))), 0, a_183139.length)-0], NTI138);
framePtr = F.prev;
return result_183140;
}
function rnd_183126(a_183131) {

var result_183132 = null;
var F={procname:"rnd.rnd",prev:framePtr,filename:"C:\\Users\\Joeyl\\OneDrive\\Documents\\GitHub\\strangers_gamejam\\source\\nico\\nico.nim",line:0};
framePtr = F;
BeforeRet: do {
F.line = 1287;
result_183132 = nimCopy(null, random_183134(a_183131), NTI138);
break BeforeRet;
} while (false); 
framePtr = F.prev;
return result_183132;
}
function gameUpdate_183019(dt_183021) {

var Tmp1;
var Tmp2;
var Tmp3;
var Tmp4;
var F={procname:"paintout.gameUpdate",prev:framePtr,filename:"paintout.nim",line:0};
framePtr = F;
F.line = 38;
frame_183001[0] = addInt(frame_183001[0], 1);
F.line = 39;
pluseq__54511(t_183002, 0, 1.0000000000000001e-001);
if ((1.6000000000000000e+001 <= t_183002[0])) {
F.line = 41;
t_183002[0] = 8.0000000000000000e+000;
}

if (btn_177277(2)) {
F.line = 45;
minuseq__171181(pxv_183005, 0, 1.0000000000000001e-001);
}

if (btn_177277(3)) {
F.line = 47;
pluseq__54511(pxv_183005, 0, 1.0000000000000001e-001);
}

F.line = 48;
pluseq__54511(px_183003, 0, pxv_183005[0]);
F.line = 49;
stareq__54501(pxv_183005, 0, 9.4999999999999996e-001);
F.line = 51;
var tw_183081 = textWidth_177230(text_183010[0], 1);
if ((subInt(toPint_33295(px_183003[0]), divInt(tw_183081, 2)) < 0)) {
F.line = 53;
px_183003[0] = divInt(tw_183081, 2);
}

if ((toPint_33305(subInt(screenWidth_33325[0], (divInt(tw_183081, 2)|0))) < toPint_33295(px_183003[0]))) {
F.line = 55;
px_183003[0] = subInt(screenWidth_33325[0], (divInt(tw_183081, 2)|0));
}

F.line = 58;
pluseq__54511(bx_183006, 0, bxv_183008[0]);
F.line = 59;
pluseq__54511(by_183007, 0, byv_183009[0]);
F.line = 60;
pluseq__54511(byv_183009, 0, 1.0000000000000001e-001);
if ((toPint_33305(subInt(screenWidth_33325[0], 4)) < toPint_33295(bx_183006[0]))) Tmp1 = true; else {Tmp1 = (bx_183006[0] < 4.0000000000000000e+000); }if (Tmp1) {
F.line = 64;
bxv_183008[0] = -(bxv_183008[0]);
F.line = 65;
splat_183012[0] = true;
}

if (!(toPint_33305(subInt(screenHeight_33327[0], 8)) < toPint_33295(by_183007[0]))) Tmp3 = false; else {Tmp3 = (subInt(subInt(toPint_33295(px_183003[0]), divInt(tw_183081, 2)), 4) < toPint_33295(bx_183006[0])); }if (!Tmp3) Tmp2 = false; else {Tmp2 = (toPint_33295(bx_183006[0]) < addInt(addInt(toPint_33295(px_183003[0]), divInt(tw_183081, 2)), 4)); }if (Tmp2) {
F.line = 69;
byv_183009[0] = ((-(byv_183009[0]) * 8.0000000000000004e-001) - 1.0000000000000000e+000);
F.line = 70;
pluseq__54511(bxv_183008, 0, pxv_183005[0]);
F.line = 71;
splat_183012[0] = true;
}

if (btnp_177280(4)) Tmp4 = true; else {Tmp4 = (toPint_33305(screenHeight_33327[0]) < toPint_33295(by_183007[0])); }if (Tmp4) {
F.line = 75;
bx_183006[0] = 6.4000000000000000e+001;
F.line = 76;
by_183007[0] = 6.4000000000000000e+001;
F.line = 77;
byv_183009[0] = -2.0000000000000000e+000;
F.line = 78;
bxv_183008[0] = (rnd_177489(2.0000000000000000e+000) - 1.0000000000000000e+000);
F.line = 79;
clear_183013[0] = true;
}

if (btnp_177280(5)) {
F.line = 83;
text_183010[0] = nimCopy(null, rnd_183126([makeNimstrLit("HELLO WORLD"), makeNimstrLit("WELCOME TO NICO"), makeNimstrLit("MEOW"), makeNimstrLit("RIBBIT"), makeNimstrLit("NIM IS FUN")]), NTI138);
}

framePtr = F.prev;
}
function setColor_177238(colId_177240) {

var F={procname:"nico.setColor",prev:framePtr,filename:"C:\\Users\\Joeyl\\OneDrive\\Documents\\GitHub\\strangers_gamejam\\source\\nico\\nico.nim",line:0};
framePtr = F;
F.line = 349;
currentColor_33459[0] = colId_177240;
framePtr = F.prev;
}
function pset_177327(x_177329, y_177330) {

var Tmp1;
var Tmp2;
var Tmp3;
var F={procname:"nico.pset",prev:framePtr,filename:"C:\\Users\\Joeyl\\OneDrive\\Documents\\GitHub\\strangers_gamejam\\source\\nico\\nico.nim",line:0};
framePtr = F;
BeforeRet: do {
F.line = 356;
var x_177943 = (x_177329 - cameraX_33420[0]);
F.line = 357;
var y_177944 = (y_177330 - cameraY_33422[0]);
if (((x_177943|0) < clipMinX_33465[0])) Tmp3 = true; else {Tmp3 = ((y_177944|0) < clipMinY_33467[0]); }if (Tmp3) Tmp2 = true; else {Tmp2 = (clipMaxX_33466[0] < (x_177943|0)); }if (Tmp2) Tmp1 = true; else {Tmp1 = (clipMaxY_33468[0] < (y_177944|0)); }if (Tmp1) {
F.line = 359;
break BeforeRet;
}

F.line = 360;
swCanvas_33316[0].data[(((y_177944|0) * swCanvas_33316[0].w) + (x_177943|0))] = paletteMapDraw_33430[0][currentColor_33459[0]];
} while (false); 
framePtr = F.prev;
}
function rectfill_177344(x1_177346, y1_177347, x2_177348, y2_177349) {

var F={procname:"nico.rectfill",prev:framePtr,filename:"C:\\Users\\Joeyl\\OneDrive\\Documents\\GitHub\\strangers_gamejam\\source\\nico\\nico.nim",line:0};
framePtr = F;
F.line = 391;
var minx_177998 = nimMin(x1_177346, x2_177348);
F.line = 392;
var maxx_177999 = nimMax(x1_177346, x2_177348);
F.line = 393;
var miny_178000 = nimMin(y1_177347, y2_177349);
F.line = 394;
var maxy_178001 = nimMax(y1_177347, y2_177349);
L1: do {
F.line = 395;
var y_178215 = 0;
F.line = 1955;
var res_178236 = (miny_178000|0);
L2: do {
F.line = 1956;
L3: while (true) {
if (!(res_178236 <= (maxy_178001|0))) break L3;
F.line = 1957;
y_178215 = res_178236;
L4: do {
F.line = 396;
var x_178225 = 0;
F.line = 1955;
var res_178230 = (minx_177998|0);
L5: do {
F.line = 1956;
L6: while (true) {
if (!(res_178230 <= (maxx_177999|0))) break L6;
F.line = 1957;
x_178225 = res_178230;
F.line = 397;
pset_177327(x_178225, y_178215);
F.line = 1976;
res_178230 = addInt(res_178230, 1);
}
} while(false);
} while(false);
F.line = 1976;
res_178236 = addInt(res_178236, 1);
}
} while(false);
} while(false);
framePtr = F.prev;
}
function fontBlit_179003(font_179005, srcRect_179006, dstRect_179007, color_179008) {

var Tmp8;
var Tmp9;
var Tmp10;
var Tmp11;
var F={procname:"nico.fontBlit",prev:framePtr,filename:"C:\\Users\\Joeyl\\OneDrive\\Documents\\GitHub\\strangers_gamejam\\source\\nico\\nico.nim",line:0};
framePtr = F;
F.line = 730;
var dx_179009 = /**/[dstRect_179007.Field0];
F.line = 731;
var dy_179010 = /**/[dstRect_179007.Field1];
F.line = 732;
var sx_179011 = /**/[srcRect_179006.Field0];
F.line = 733;
var sy_179012 = /**/[srcRect_179006.Field1];
F.line = 734;
var dw_179013 = dstRect_179007.Field2;
F.line = 735;
var dh_179014 = dstRect_179007.Field3;
F.line = 736;
var sw_179015 = srcRect_179006.Field2;
F.line = 737;
var sh_179016 = srcRect_179006.Field3;
L1: do {
F.line = 738;
var y_179026 = 0;
F.line = 1973;
var colontmp__179109 = 0;
F.line = 738;
colontmp__179109 = subInt(dstRect_179007.Field3, 1);
F.line = 1955;
var res_179112 = 0;
L2: do {
F.line = 1956;
L3: while (true) {
if (!(res_179112 <= colontmp__179109)) break L3;
F.line = 1957;
y_179026 = res_179112;
F.line = 739;
dx_179009[0] = dstRect_179007.Field0;
F.line = 740;
sx_179011[0] = srcRect_179006.Field0;
L4: do {
F.line = 741;
var x_179036 = 0;
F.line = 1973;
var colontmp__179102 = 0;
F.line = 741;
colontmp__179102 = subInt(dstRect_179007.Field2, 1);
F.line = 1955;
var res_179105 = 0;
L5: do {
F.line = 1956;
L6: while (true) {
if (!(res_179105 <= colontmp__179102)) break L6;
F.line = 1957;
x_179036 = res_179105;
L7: do {
if (((sx_179011[0] < 0.0) || (sy_179012[0] < 0.0))) Tmp9 = true; else {Tmp9 = (toPint_33305(subInt(font_179005.w, 1)) < toPint_33295(sx_179011[0])); }if (Tmp9) Tmp8 = true; else {Tmp8 = (toPint_33305(subInt(font_179005.h, 1)) < toPint_33295(sy_179012[0])); }if (Tmp8) {
F.line = 743;
break L7;
}

if (((toPint_33295(dx_179009[0]) < toPint_33305(clipMinX_33465[0])) || (toPint_33295(dy_179010[0]) < toPint_33305(clipMinY_33467[0])))) Tmp11 = true; else {Tmp11 = (toPint_33305(clipMaxX_33466[0]) < toPint_33295(dx_179009[0])); }if (Tmp11) Tmp10 = true; else {Tmp10 = (toPint_33305(clipMaxY_33468[0]) < toPint_33295(dy_179010[0])); }if (Tmp10) {
F.line = 745;
break L7;
}

if ((font_179005.data[chckIndx(addInt(mulInt(toPint_33295(sy_179012[0]), toPint_33305(font_179005.w)), toPint_33295(sx_179011[0])), 0, font_179005.data.length)-0] == 1)) {
F.line = 747;
swCanvas_33316[0].data[chckIndx(addInt(mulInt(toPint_33295(dy_179010[0]), toPint_33305(swCanvas_33316[0].w)), toPint_33295(dx_179009[0])), 0, swCanvas_33316[0].data.length)-0] = currentColor_33459[0];
}

F.line = 748;
pluseq__54511(sx_179011, 0, (1.0000000000000000e+000 * (sw_179015 / dw_179013)));
F.line = 749;
pluseq__54511(dx_179009, 0, 1.0000000000000000e+000);
} while(false);
F.line = 1976;
res_179105 = addInt(res_179105, 1);
}
} while(false);
} while(false);
F.line = 750;
pluseq__54511(sy_179012, 0, (1.0000000000000000e+000 * (sh_179016 / dh_179014)));
F.line = 751;
pluseq__54511(dy_179010, 0, 1.0000000000000000e+000);
F.line = 1976;
res_179112 = addInt(res_179112, 1);
}
} while(false);
} while(false);
framePtr = F.prev;
}
function glyph_177206(c_177208, x_177209, y_177210, scale_177211) {

var result_180206 = 0;
var F={procname:"nico.glyph",prev:framePtr,filename:"C:\\Users\\Joeyl\\OneDrive\\Documents\\GitHub\\strangers_gamejam\\source\\nico\\nico.nim",line:0};
framePtr = F;
BeforeRet: do {
F.line = 1025;
var font_180207 = fonts_33402[0][chckIndx(currentFontId_33404[0], 0, fonts_33402[0].length)-0];
if ((font_180207 == null)) {
F.line = 1027;
result_180206 = 0;
break BeforeRet;
}

if (((font_180207.rects != null ? (font_180207.rects.length-1) : -1) < (c_177208|0))) {
F.line = 1029;
break BeforeRet;
}

F.line = 1030;
var src_180219 = nimCopy(null, font_180207.rects[chckIndx(c_177208, 0, font_180207.rects.length)-0], NTI33206);
F.line = 1031;
var dst_180221 = nimCopy(null, {Field0: (x_177209|0), Field1: (y_177210|0), Field2: mulInt(src_180219.Field2, (scale_177211|0)), Field3: mulInt(src_180219.Field3, (scale_177211|0))}, NTI33206);
F.line = 1032;
++excHandler;
try {
F.line = 1033;
fontBlit_179003(font_180207, src_180219, dst_180221, currentColor_33459[0]);
--excHandler;
} catch (EXC) {
 var prevJSError = lastJSError;
 lastJSError = EXC;
 --excHandler;
framePtr = F;
if (lastJSError && (isObj(lastJSError.m_type, NTI3454))) {
F.line = 1035;
rawEcho(makeNimstrLit("index error glyph: "), nimCharToStr(c_177208), makeNimstrLit(" @ "), cstrToNimstr(((x_177209|0))+""), makeNimstrLit(","), cstrToNimstr(((y_177210|0))+""));
F.line = 1036;
reraiseException();
}
else {
reraiseException();
}
lastJSError = prevJSError;
} finally {
framePtr = F;
}
F.line = 1037;
result_180206 = toPint_33305(addInt(mulInt(src_180219.Field2, (scale_177211|0)), (scale_177211|0)));
break BeforeRet;
} while (false); 
framePtr = F.prev;
return result_180206;
}
function print_177212(text_177214, x_177215, y_177216, scale_177217) {

var F={procname:"nico.print",prev:framePtr,filename:"C:\\Users\\Joeyl\\OneDrive\\Documents\\GitHub\\strangers_gamejam\\source\\nico\\nico.nim",line:0};
framePtr = F;
F.line = 1040;
var x_180235 = subInt(x_177215, cameraX_33420[0]);
F.line = 1041;
var y_180236 = subInt(y_177216, cameraY_33422[0]);
L1: do {
F.line = 1042;
var c_180238 = 0;
F.line = 3598;
var i_180251 = 0;
F.line = 3599;
var L_180253 = (text_177214 != null ? text_177214.length-1 : 0);
L2: do {
F.line = 3600;
L3: while (true) {
if (!(i_180251 < L_180253)) break L3;
F.line = 3601;
c_180238 = text_177214[chckIndx(i_180251, 0, text_177214.length)-0];
F.line = 1043;
x_180235 = addInt(x_180235, glyph_177206(c_180238, x_180235, y_180236, scale_177217));
F.line = 3602;
i_180251 = addInt(i_180251, 1);
if (!(((text_177214 != null ? text_177214.length-1 : 0) == L_180253))) {
F.line = 3603;
failedAssertImpl_21839(makeNimstrLit("len(a) == L string modified while iterating over it"));
}

}
} while(false);
} while(false);
framePtr = F.prev;
}
function printc_177218(text_177220, x_177221, y_177222, scale_177223) {

var F={procname:"nico.printc",prev:framePtr,filename:"C:\\Users\\Joeyl\\OneDrive\\Documents\\GitHub\\strangers_gamejam\\source\\nico\\nico.nim",line:0};
framePtr = F;
F.line = 1066;
var width_180327 = textWidth_177230(text_177220, scale_177223);
F.line = 1067;
print_177212(text_177220, subInt(x_177221, divInt(width_180327, 2)), y_177222, scale_177223);
framePtr = F.prev;
}
function rnd_183200(x_183204) {

var result_183205 = 0;
var F={procname:"rnd.rnd",prev:framePtr,filename:"C:\\Users\\Joeyl\\OneDrive\\Documents\\GitHub\\strangers_gamejam\\source\\nico\\nico.nim",line:0};
framePtr = F;
BeforeRet: do {
if ((x_183204 == 0)) {
F.line = 1280;
result_183205 = 0;
break BeforeRet;
}

F.line = 1281;
result_183205 = random_169277(x_183204);
break BeforeRet;
} while (false); 
framePtr = F.prev;
return result_183205;
}
function pget_177331(x_177333, y_177334) {

var Tmp1;
var Tmp2;
var Tmp3;
var result_177991 = 0;
var F={procname:"nico.pget",prev:framePtr,filename:"C:\\Users\\Joeyl\\OneDrive\\Documents\\GitHub\\strangers_gamejam\\source\\nico\\nico.nim",line:0};
framePtr = F;
BeforeRet: do {
if ((subInt(swCanvas_33316[0].w, 1) < (x_177333|0))) Tmp3 = true; else {Tmp3 = (x_177333 < 0); }if (Tmp3) Tmp2 = true; else {Tmp2 = (subInt(swCanvas_33316[0].h, 1) < (y_177334|0)); }if (Tmp2) Tmp1 = true; else {Tmp1 = (y_177334 < 0); }if (Tmp1) {
F.line = 387;
result_177991 = 0;
break BeforeRet;
}

F.line = 388;
result_177991 = chckRange(swCanvas_33316[0].data[chckIndx(addInt(mulInt((y_177334|0), swCanvas_33316[0].w), (x_177333|0)), 0, swCanvas_33316[0].data.length)-0], 0, 15);
break BeforeRet;
} while (false); 
framePtr = F.prev;
return result_177991;
}
function pset_177945(x_177947, y_177948, c_177949) {

var Tmp1;
var Tmp2;
var Tmp3;
var F={procname:"nico.pset",prev:framePtr,filename:"C:\\Users\\Joeyl\\OneDrive\\Documents\\GitHub\\strangers_gamejam\\source\\nico\\nico.nim",line:0};
framePtr = F;
BeforeRet: do {
F.line = 363;
var x_177950 = (x_177947 - cameraX_33420[0]);
F.line = 364;
var y_177951 = (y_177948 - cameraY_33422[0]);
if (((x_177950|0) < clipMinX_33465[0])) Tmp3 = true; else {Tmp3 = ((y_177951|0) < clipMinY_33467[0]); }if (Tmp3) Tmp2 = true; else {Tmp2 = (clipMaxX_33466[0] < (x_177950|0)); }if (Tmp2) Tmp1 = true; else {Tmp1 = (clipMaxY_33468[0] < (y_177951|0)); }if (Tmp1) {
F.line = 366;
break BeforeRet;
}

F.line = 367;
swCanvas_33316[0].data[(((y_177951|0) * swCanvas_33316[0].w) + (x_177950|0))] = paletteMapDraw_33430[0][c_177949];
} while (false); 
framePtr = F.prev;
}
function hline_177362(x0_177364, y_177365, x1_177366) {

var F={procname:"nico.hline",prev:framePtr,filename:"C:\\Users\\Joeyl\\OneDrive\\Documents\\GitHub\\strangers_gamejam\\source\\nico\\nico.nim",line:0};
framePtr = F;
F.line = 481;
var x0_178496 = x0_177364;
F.line = 482;
var x1_178497 = x1_177366;
if ((x1_178497 < x0_178496)) {
F.line = 484;
var Tmp1 = x1_178497; x1_178497 = x0_178496; x0_178496 = Tmp1;}

L2: do {
F.line = 485;
var x_178517 = 0;
F.line = 1955;
var res_178521 = (x0_178496|0);
L3: do {
F.line = 1956;
L4: while (true) {
if (!(res_178521 <= (x1_178497|0))) break L4;
F.line = 1957;
x_178517 = res_178521;
F.line = 486;
pset_177327(x_178517, y_177365);
F.line = 1976;
res_178521 = addInt(res_178521, 1);
}
} while(false);
} while(false);
framePtr = F.prev;
}
function plot4pointsfill_178834(cx_178836, cy_178837, x_178838, y_178839) {

var Tmp1;
var F={procname:"nico.plot4pointsfill",prev:framePtr,filename:"C:\\Users\\Joeyl\\OneDrive\\Documents\\GitHub\\strangers_gamejam\\source\\nico\\nico.nim",line:0};
framePtr = F;
F.line = 632;
hline_177362(subInt(cx_178836, x_178838), addInt(cy_178837, y_178839), addInt(cx_178836, x_178838));
if (!!((x_178838 == 0))) Tmp1 = false; else {Tmp1 = !((y_178839 == 0)); }if (Tmp1) {
F.line = 634;
hline_177362(subInt(cx_178836, x_178838), subInt(cy_178837, y_178839), addInt(cx_178836, x_178838));
}

framePtr = F.prev;
}
function circfill_177380(cx_177382, cy_177383, r_177384) {

var F={procname:"nico.circfill",prev:framePtr,filename:"C:\\Users\\Joeyl\\OneDrive\\Documents\\GitHub\\strangers_gamejam\\source\\nico\\nico.nim",line:0};
framePtr = F;
BeforeRet: do {
if ((r_177384 == 1)) {
F.line = 638;
pset_177327(cx_177382, cy_177383);
F.line = 639;
pset_177327(subInt(cx_177382, 1), cy_177383);
F.line = 640;
pset_177327(addInt(cx_177382, 1), cy_177383);
F.line = 641;
pset_177327(cx_177382, subInt(cy_177383, 1));
F.line = 642;
pset_177327(cx_177382, addInt(cy_177383, 1));
F.line = 643;
break BeforeRet;
}

F.line = 645;
var err_178845 = negInt(r_177384);
F.line = 646;
var x_178846 = r_177384;
F.line = 647;
var y_178847 = 0;
L1: do {
F.line = 649;
L2: while (true) {
if (!(y_178847 <= x_178846)) break L2;
F.line = 650;
var lasty_178848 = y_178847;
F.line = 651;
err_178845 = addInt(err_178845, y_178847);
F.line = 652;
y_178847 = addInt(y_178847, 1);
F.line = 653;
err_178845 = addInt(err_178845, y_178847);
F.line = 655;
plot4pointsfill_178834(cx_177382, cy_177383, x_178846, lasty_178848);
if ((0 < err_178845)) {
if (!((x_178846 == lasty_178848))) {
F.line = 659;
plot4pointsfill_178834(cx_177382, cy_177383, lasty_178848, x_178846);
}

F.line = 660;
err_178845 = subInt(err_178845, x_178846);
F.line = 661;
x_178846 = subInt(x_178846, 1);
F.line = 662;
err_178845 = subInt(err_178845, x_178846);
}

}
} while(false);
} while (false); 
framePtr = F.prev;
}
function gameDraw_183184() {

var Tmp4;
var Tmp5;
var F={procname:"paintout.gameDraw",prev:framePtr,filename:"paintout.nim",line:0};
framePtr = F;
if ((((frame_183001[0] == 1) || clear_183013[0]) || btnp_177280(4))) {
F.line = 88;
setColor_177238(1);
F.line = 89;
rectfill_177344(0, 0, 128, 128);
F.line = 90;
clear_183013[0] = false;
}

F.line = 93;
setColor_177238(chckRange((t_183002[0]|0), 0, 15));
F.line = 94;
printc_177218(text_183010[0], toPint_33295(px_183003[0]), toPint_33295(py_183004[0]), 1);
L1: do {
F.line = 97;
var i_183198 = 0;
F.line = 3772;
var i_183345 = 0;
L2: do {
F.line = 3773;
L3: while (true) {
if (!(i_183345 < 1000)) break L3;
F.line = 3774;
i_183198 = i_183345;
F.line = 98;
var x_183208 = rnd_183200(screenWidth_33325[0]);
F.line = 99;
var y_183215 = rnd_183200(screenHeight_33327[0]);
F.line = 100;
var c_183216 = pget_177331(toPint_33305(x_183208), toPint_33305(y_183215));
if (!((c_183216 == 1))) Tmp4 = true; else {Tmp4 = (rnd_183200(10) == 0); }if (Tmp4) {
F.line = 102;
pset_177945(toPint_33305(x_183208), toPint_33305(addInt(y_183215, 1)), c_183216);
}

F.line = 3775;
i_183345 = addInt(i_183345, 1);
}
} while(false);
} while(false);
F.line = 105;
var d_183223 = Math.sqrt((Math.pow(bxv_183008[0], 2.0000000000000000e+000) + Math.pow(byv_183009[0], 2.0000000000000000e+000)));
F.line = 106;
if ((2.0000000000000000e+000 < d_183223)) {
Tmp5 = 2;
}
else {
if ((1.0000000000000000e+000 < d_183223)) {
Tmp5 = 3;
}
else {
if ((5.0000000000000000e-001 < d_183223)) {
Tmp5 = 4;
}
else {
Tmp5 = 5;
}
}}
var ballSize_183224 = Tmp5;
F.line = 107;
setColor_177238(chckRange((t_183002[0]|0), 0, 15));
F.line = 108;
circfill_177380(toPint_33295(bx_183006[0]), toPint_33295(by_183007[0]), toPint_33305(ballSize_183224));
if ((rnd_183200(30) == 0)) {
F.line = 112;
setColor_177238(1);
F.line = 113;
var x_183238 = rnd_183200(128);
F.line = 114;
var y_183246 = rnd_183200(128);
F.line = 115;
circfill_177380(toPint_33305(x_183238), toPint_33305(y_183246), toPint_33305(addInt(rnd_183200(5), 3)));
L6: do {
F.line = 116;
var i_183268 = 0;
F.line = 1973;
var colontmp__183349 = 0;
F.line = 116;
colontmp__183349 = rnd_183200(30);
F.line = 1955;
var res_183352 = 0;
L7: do {
F.line = 1956;
L8: while (true) {
if (!(res_183352 <= colontmp__183349)) break L8;
F.line = 1957;
i_183268 = res_183352;
F.line = 117;
circfill_177380(toPint_33305(subInt(addInt(x_183238, rnd_183200(30)), 15)), toPint_33305(subInt(addInt(y_183246, rnd_183200(30)), 15)), toPint_33305(addInt(rnd_183200(2), 1)));
F.line = 1976;
res_183352 = addInt(res_183352, 1);
}
} while(false);
} while(false);
}

if (splat_183012[0]) {
F.line = 121;
setColor_177238(chckRange((t_183002[0]|0), 0, 15));
F.line = 122;
var x_183293 = subInt(addInt(toPint_33295(bx_183006[0]), toPint_33305(rnd_183200(10))), 5);
F.line = 123;
var y_183300 = subInt(addInt(toPint_33295(by_183007[0]), toPint_33305(rnd_183200(10))), 5);
F.line = 124;
circfill_177380(x_183293, y_183300, toPint_33305(addInt(rnd_183200(10), 5)));
L9: do {
F.line = 125;
var i_183322 = 0;
F.line = 1973;
var colontmp__183358 = 0;
F.line = 125;
colontmp__183358 = rnd_183200(30);
F.line = 1955;
var res_183361 = 0;
L10: do {
F.line = 1956;
L11: while (true) {
if (!(res_183361 <= colontmp__183358)) break L11;
F.line = 1957;
i_183322 = res_183361;
F.line = 126;
circfill_177380(toPint_33305(subInt(addInt((x_183293|0), rnd_183200(30)), 15)), toPint_33305(subInt(addInt((y_183300|0), rnd_183200(30)), 15)), toPint_33305(addInt(rnd_183200(2), 1)));
F.line = 1976;
res_183361 = addInt(res_183361, 1);
}
} while(false);
} while(false);
F.line = 127;
splat_183012[0] = false;
}

framePtr = F.prev;
}
run_181760(gameInit_183017, gameUpdate_183019, gameDraw_183184);
